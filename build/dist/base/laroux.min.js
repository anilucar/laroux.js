/**
 * laroux.js - A jquery substitute for modern browsers (base bundle)
 *
 * @version v2.0.0
 * @link https://larukedi.github.io/laroux.js
 * @license Apache-2.0
 */
"use strict";(function(){var t="undefined"!=typeof global?global:window;t.laroux=function(){},void 0===t.$l&&(t.$l=laroux),laroux.extendObject=function(){{var t=Array.prototype.shift.call(arguments);t instanceof Array}for(var e in arguments)for(var r in arguments[e])t.hasOwnProperty(r)&&t[r]instanceof Object?laroux.extendObject(t[r],arguments[e][r]):t[r]=arguments[e][r]},laroux.toArray=function(t){for(var e=t.length,r=new Array(e),a=0;e>a;a++)r[a]=t[a];return r},laroux.ns=function(e,r){for(var a=e.split("."),n=t,o=0,s=a.length;s>o;o++){var u=a[o];void 0===n[u]&&(n[u]={}),n=n[u]}return void 0!==r&&laroux.extendObject(n,r),n}}).call(void 0),function(){laroux.ns("laroux",{uniqueId:0,getUniqueId:function(){return"uid-"+ ++laroux.uniqueId},buildQueryString:function(t,e){var r="",a=/%20/g;for(var n in t)t.hasOwnProperty(n)&&"function"!=typeof t[n]&&(r+=e?"&"+encodeURIComponent(n).replace(a,"+")+"="+encodeURIComponent(t[n].toString()).replace(a,"+"):"&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n].toString()));return r.substr(1)},buildFormData:function(t){var e=new FormData;for(var r in t)t.hasOwnProperty(r)&&"function"!=typeof t[r]&&e.append(r,t[r]);return e},format:function(){var t=arguments;return Array.prototype.shift.call(t).replace(/%s/g,function(){return Array.prototype.shift.call(t)})},replaceAll:function(t,e){var r=new RegExp(Object.keys(e).join("|"),"g");return t.replace(r,function(t){return e[t]})},camelCase:function(t){for(var e=!1,r="",a=0;a<t.length;a++){var n=t.charAt(a);"-"!=n?(r+=e?n.toUpperCase():n,e=!1):e=!0}return r},antiCamelCase:function(t){for(var e="",r=0;r<t.length;r++){var a=t.charAt(r);e+="-"==a||a!=a.toUpperCase()?a:"-"+a.toLowerCase()}return e},quoteAttr:function(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\r\n/g,"&#13;").replace(/[\r\n]/g,"&#13;")},spliceString:function(t,e,r,a){return t.slice(0,e)+(a||"")+t.slice(e+r)},random:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},find:function(t,e,r){var a;return t.some(function(t,n,o){return e.call(r,t,n,o)?(a=t,!0):void 0}),a},each:function(t,e,r){for(var a in t)if((!r||t.hasOwnProperty(a))&&e(a,t[a])===!1)break;return t},map:function(t,e,r,a){var n=[];for(var o in t)if(!a||t.hasOwnProperty(o)){var s=e(t[o],o);if(s===!1)break;(r||void 0!==s)&&n.push(s)}return n},index:function(t,e,r){for(var a in t)if((!r||t.hasOwnProperty(a))&&t[a]===object)return a;return null},aeach:function(t,e){for(var r=0,a=t.length;a>r&&e(r,t[r])!==!1;r++);return t},amap:function(t,e,r){for(var a=[],n=0,o=t.length;o>n;n++){var s=e(t[n],n);if(s===!1)break;(r||void 0!==s)&&a.push(s)}return a},aindex:function(t,e,r){for(var a=r||0,n=t.length;n>a;a++)if(t[a]===e)return a;return-1},column:function(t,e){return laroux.map(t,function(t){return t[e]},!0)},shuffle:function(t){var e=0,r=[];for(var a in t)if(t.hasOwnProperty(a)){var n=laroux.random(0,e);r[e++]=r[n],r[n]=t[a]}return r},merge:function(){var t=Array.prototype.shift.call(arguments),e=t,r=e instanceof Array;for(var a in arguments)if(r)e=e.concat(arguments[a]);else for(var n in arguments[a])arguments[a].hasOwnProperty(n)&&(e[n]=arguments[a][n]);return e},duplicate:function(t){return JSON.parse(JSON.stringify(t))},prependArray:function(t,e){var r=t.length,a=new Array(r+1);a[0]=e;for(var n=0,o=1;r>n;n++,o++)a[o]=t[n];return a},toArray:function(t){for(var e=t.length,r=new Array(e),a=0;e>a;a++)r[a]=t[a];return r},getAsArray:function(t){if(t instanceof Array)return t;if(t instanceof NodeList){for(var e=t.length,r=new Array(e),a=0;e>a;a++)r[a]=t[a];return r}return[t]},getLength:function(t){return t.constructor===Object?void 0!==t.length?t.length:Object.keys(t).length:-1},getKeysRecursive:function(t,e,r,a){void 0===e&&(e="."),void 0===r&&(r="",a=[]);for(var n in t)t.hasOwnProperty(n)&&(a.push(r+n),void 0===t[n]||null===t[n]||t[n].constructor!==Object||laroux.getKeysRecursive(t[n],e,r+n+e,a));return a},getElement:function(t,e,r,a){void 0===r&&(r=null),void 0===a&&(a=".");var n,o,s=e.indexOf(a);return-1===s?(n=e,o=null):(n=e.substring(0,s),o=e.substring(s+1)),n in t?null===o||0===o.length?t[n]:laroux.getElement(t[n],o,r,a):r}})}.call(void 0),function(){laroux.ns("laroux.events",{delegates:[],add:function(t,e){laroux.events.delegates.push({event:t,fnc:e})},invoke:function(t,e){for(var r in laroux.events.delegates)laroux.events.delegates.hasOwnProperty(r)&&laroux.events.delegates[r].event==t&&laroux.events.delegates[r].fnc(e)}})}.call(void 0),function(){laroux.ns("laroux.ajax",{corsDefault:!1,wrappers:{registry:{"laroux.js":function larouxJs(data){if(!data.isSuccess)return void console.log("Error: "+data.errorMessage);var obj;return obj="json"===data.format?JSON.parse(data.object):"script"===data.format?eval(data.object):data.object}},set:function(t,e){laroux.ajax.wrappers.registry[t]=e}},xDomainObject:!1,xmlHttpRequestObject:null,xDomainRequestObject:null,xhr:function(t){if(null===laroux.ajax.xmlHttpRequestObject&&(laroux.ajax.xmlHttpRequestObject=new XMLHttpRequest),t){if(!("withCredentials"in laroux.ajax.xmlHttpRequestObject)&&"undefined"!=typeof XDomainRequest)return laroux.ajax.xDomainObject=!0,null===laroux.ajax.xDomainRequestObject&&(laroux.ajax.xDomainRequestObject=new XDomainRequest),laroux.ajax.xDomainRequestObject}else laroux.ajax.xDomainObject=!1;return laroux.ajax.xmlHttpRequestObject},xhrResp:function xhrResp(xhr,options){var wrapperFunction=xhr.getResponseHeader("X-Response-Wrapper-Function"),response;return response=void 0===options.datatype?xhr.responseText:"json"===options.datatype?JSON.parse(xhr.responseText):"script"===options.datatype?eval(xhr.responseText):"xml"===options.datatype?xhr.responseXML:xhr.responseText,wrapperFunction&&wrapperFunction in laroux.ajax.wrappers.registry&&(response=laroux.ajax.wrappers.registry[wrapperFunction](response)),{response:response,wrapperFunc:wrapperFunction}},makeRequest:function(t){var e=new laroux.promise;return e.then(function(){var r=t.cors||laroux.ajax.corsDefault,a=laroux.ajax.xhr(r),n=t.url,o=null,s=0;if(void 0!==t.timeout&&(o=setTimeout(function(){a.abort(),e.invoke("timeout",t.url),e.complete()},t.timeout)),a.onreadystatechange=function(){if(4===a.readyState){if(null!==o&&clearTimeout(o),a.status<300){var r=null,n=!0;try{r=laroux.ajax.xhrResp(a,t)}catch(u){e.invoke("error",u,a),e.complete(),laroux.events.invoke("ajaxError",[a,a.status,a.statusText,t]),n=!1}n&&null!==r&&(e.next(r.response,r.wrapperFunc),laroux.events.invoke("ajaxSuccess",[a,r.response,r.wrapperFunc,t]))}else e.invoke("error",u,a),laroux.events.invoke("ajaxError",[a,a.status,a.statusText,t]);laroux.events.invoke("ajaxComplete",[a,a.statusText,t])}else void 0!==t.progress&&t.progress(++s)},void 0!==t.getdata&&null!==t.getdata)if(t.getdata.constructor===Object){var u=laroux.buildQueryString(t.getdata);u.length>0&&(n+=(n.indexOf("?")<0?"?":"&")+u)}else n+=(n.indexOf("?")<0?"?":"&")+t.getdata;void 0!==t.jsonp&&(n+=(n.indexOf("?")<0?"?":"&")+"jsonp="+t.jsonp),laroux.ajax.xDomainObject?a.open(t.type,n):a.open(t.type,n,!0);try{if(void 0!==t.xhrFields)for(var i in t.xhrFields)t.xhrFields.hasOwnProperty(i)&&(a[i]=t.xhrFields[i]);var l=t.headers||{};r||(l["X-Requested-With"]="XMLHttpRequest",t.wrapper&&(l["X-Wrapper-Function"]="laroux.js"));for(var c in l)l.hasOwnProperty(c)&&a.setRequestHeader(c,l[c])}catch(p){console.log(p)}if(void 0===t.postdata||null===t.postdata)return void a.send(null);switch(t.postdatatype){case"json":a.send(JSON.stringify(t.postdata));break;case"form":a.send(laroux.buildFormData(t.postdata));break;default:a.send(t.postdata)}},!0)},get:function(t,e,r){return laroux.ajax.makeRequest({type:"GET",url:t,datatype:"html",getdata:e,wrapper:!0,cors:r||laroux.ajax.corsDefault})},getJson:function(t,e,r){return laroux.ajax.makeRequest({type:"GET",url:t,datatype:"json",getdata:e,wrapper:!0,cors:r||laroux.ajax.corsDefault})},getJsonP:function(t,e,r,a){return laroux.ajax.makeRequest({type:"GET",url:t,datatype:"script",getdata:e,jsonp:r,wrapper:!1,cors:a||laroux.ajax.corsDefault})},getScript:function(t,e,r){return laroux.ajax.makeRequest({type:"GET",url:t,datatype:"script",getdata:e,wrapper:!1,cors:r||laroux.ajax.corsDefault})},post:function(t,e,r){return laroux.ajax.makeRequest({type:"POST",url:t,datatype:"json",postdata:e,postdatatype:"form",wrapper:!0,cors:r||laroux.ajax.corsDefault})},postJson:function(t,e,r){return laroux.ajax.makeRequest({type:"POST",url:t,datatype:"json",postdata:e,postdatatype:"json",headers:{"Content-Type":"application/json; charset=UTF-8"},wrapper:!0,cors:r||laroux.ajax.corsDefault})}})}.call(void 0),function(){laroux.ns("laroux.timers",{data:[],set:function(t){t.next=Date.now()+t.timeout,laroux.timers.data.push(t)},remove:function(t){var e=null;for(var r in laroux.timers.data)if(laroux.timers.data.hasOwnProperty(r)){var a=laroux.timers.data[r];if(void 0!==a.id&&a.id==t){e=r;break}}return null!==e?(laroux.timers.data.splice(e,1),!0):!1},ontick:function(){var t=Date.now(),e=[];for(var r in laroux.timers.data)if(laroux.timers.data.hasOwnProperty(r)){var a=laroux.timers.data[r];if(a.next<=t){var n=a.ontick(a.state);n!==!1&&a.reset?a.next=t+a.timeout:e=laroux.prependArray(e,r)}}for(var o in e)e.hasOwnProperty(o)&&laroux.timers.data.splice(e[o],1)}})}.call(void 0),function(){laroux.ns("laroux",{promise:function(t,e){return this instanceof laroux.promise?(this._delegates=[],this._delegateQueue=null,this._events=[],this._eventStack=null,this.completed=!1,void(void 0!==t&&this.then(t,e))):new laroux.promise(t,e)}}),laroux.promise.prototype.then=function(t,e){var r={fnc:t,isAsync:e};return this._delegates.push(r),this},laroux.promise.prototype.on=function(t,e){var r=laroux.getAsArray(t),a={conditions:r,fnc:e};return this._events.push(a),this},laroux.promise.prototype.invoke=function(){var t=Array.prototype.shift.call(arguments),e=[];for(var r in this._eventStack)if(this._eventStack.hasOwnProperty(r)){var a=this._eventStack[r],n=laroux.aindex(a.conditions,t);-1!==n&&a.conditions.splice(n,1),a.conditions.length>0||(e=laroux.prependArray(e,r),a.fnc.apply(this,arguments))}for(var o in e)e.hasOwnProperty(o)&&this._eventStack.splice(e[o],1)},laroux.promise.prototype.complete=function(){this.completed=!0,this.invoke("complete")},laroux.promise.prototype.next=function(){var t=this,e=this._delegateQueue.shift(),r=laroux.toArray(arguments);if(this.completed)return this;if(void 0===e){var a=["success"].concat(r);return this.invoke.apply(this,a),this.complete(),this}return setTimeout(function(){try{var a=e.fnc.apply(t,r);e.isAsync!==!0&&t.next.call(t,a)}catch(n){t.invoke("error",n),t.complete()}},0),this},laroux.promise.prototype.start=function(){return this._delegateQueue=this._delegates.slice(),this._eventStack=this._events.slice(),this.completed=!1,this.next.apply(this,arguments)}}.call(void 0),function(){laroux.ns("laroux.vars",{cookiePath:"/",getCookie:function(t,e){var r=new RegExp(encodeURIComponent(t)+"=[^;]+","i"),a=document.cookie.match(r);return a?decodeURIComponent(a[0].split("=")[1]):e||null},setCookie:function(t,e,r,a){var n="";r&&(n="; expires="+r.toGMTString()),document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+n+"; path="+(a||laroux.vars.cookiePath)},removeCookie:function(t,e){document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+(e||laroux.vars.cookiePath)},getLocal:function(t,e){return t in localStorage?JSON.parse(localStorage[t]):e||null},setLocal:function(t,e){localStorage[t]=JSON.stringify(e)},removeLocal:function(t){delete localStorage[t]},getSession:function(t,e){return t in sessionStorage?JSON.parse(sessionStorage[t]):e||null},setSession:function(t,e){sessionStorage[t]=JSON.stringify(e)},removeSession:function(t){delete sessionStorage[t]}})}.call(void 0),function(){laroux.ns("laroux.date",{shortDateFormat:"dd.MM.yyyy",longDateFormat:"dd MMMM yyyy",timeFormat:"HH:mm",monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsLong:["January","February","March","April","May","June","July","August","September","October","November","December"],strings:{now:"now",later:"later",ago:"ago",seconds:"seconds",aminute:"a minute",minutes:"minutes",ahour:"a hour",hours:"hours",aday:"a day",days:"days",aweek:"a week",weeks:"weeks",amonth:"a month",months:"months",ayear:"a year",years:"years"},parseEpoch:function(t,e){return 6e4>t?(t=Math.ceil(t/1e3),t+" "+laroux.date.strings.seconds):36e5>t?(t=Math.ceil(t/6e4),1===t?laroux.date.strings.aminute:t+" "+laroux.date.strings.minutes):864e5>t?(t=Math.ceil(t/36e5),1===t?laroux.date.strings.ahour:t+" "+laroux.date.strings.hours):6048e5>t?(t=Math.ceil(t/864e5),1===t?laroux.date.strings.aday:t+" "+laroux.date.strings.days):24192e5>t?(t=Math.ceil(t/6048e5),1===t?laroux.date.strings.aweek:t+" "+laroux.date.strings.weeks):e===!0?null:18144e6>t?(t=Math.ceil(t/2592e6),1===t?laroux.date.strings.amonth:t+" "+laroux.date.strings.months):(t=Math.ceil(t/31536e6),1===t?laroux.date.strings.ayear:t+" "+laroux.date.strings.years)},getCustomDateString:function(t,e){var r=e||new Date;return t.replace(/yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g,function(t){switch(t){case"yyyy":return r.getFullYear();case"yy":return r.getYear();case"MMMM":return laroux.date.monthsLong[r.getMonth()];case"MMM":return laroux.date.monthsShort[r.getMonth()];case"MM":return("0"+(r.getMonth()+1)).substr(-2,2);case"M":return r.getMonth()+1;case"dd":return("0"+r.getDate()).substr(-2,2);case"d":return r.getDate();case"hh":var e=r.getHours();return("0"+(e%12>0?e%12:12)).substr(-2,2);case"h":var a=r.getHours();return a%12>0?a%12:12;case"HH":return("0"+r.getHours()).substr(-2,2);case"H":return r.getHours();case"mm":return("0"+r.getMinutes()).substr(-2,2);case"m":return r.getMinutes();case"ss":return("0"+r.getSeconds()).substr(-2,2);case"s":return r.getSeconds();case"tt":return r.getHours()>=12?"pm":"am";case"t":return r.getHours()>=12?"p":"a"}return t})},getDateDiffString:function(t){var e=Date.now(),r=e-t.getTime(),a=Math.abs(r),n=r>0;if(3e3>=a)return laroux.date.strings.now;var o=laroux.date.parseEpoch(a,!0);return null!==o?o+" "+(n?laroux.date.strings.ago:laroux.date.strings.later):laroux.date.getShortDateString(t,!0)},getShortDateString:function(t,e){return laroux.date.getCustomDateString(e?laroux.date.shortDateFormat+" "+laroux.date.timeFormat:laroux.date.shortDateFormat,t)},getLongDateString:function(t,e){return laroux.date.getCustomDateString(e?laroux.date.longDateFormat+" "+laroux.date.timeFormat:laroux.date.longDateFormat,t)}})}.call(void 0),function(){laroux.ns("laroux",{stack:function(t,e,r){return this instanceof laroux.stack?(this._data={},this._depth=e,this._top=r||this,void(t&&this.setRange(t))):new this(t,e,r)}}),laroux.stack.prototype.set=function(t,e){var r=typeof e;switch(r){case"function":this._data[t]=e,Object.defineProperty(this,t,{configurable:!0,get:function(){return this._data[t]()}});break;default:this._data[t]=e,Object.defineProperty(this,t,{configurable:!0,get:function(){return this._data[t]},set:function(e){var r=this._data[t];this._data[t]!==e&&(this._data[t]=e,this._top.onupdate({scope:this,key:t,oldValue:r,newValue:e}))}})}},laroux.stack.prototype.setRange=function(t){for(var e in t)t.hasOwnProperty(e)&&this.set(e,t[e])},laroux.stack.prototype.get=function(t,e){return this[t]||e||null},laroux.stack.prototype.getRange=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=this[t[r]]);return e},laroux.stack.prototype.keys=function(){return Object.keys(this._data)},laroux.stack.prototype.length=function(){return Object.keys(this._data).length},laroux.stack.prototype.exists=function(t){return t in this._data},laroux.stack.prototype.remove=function(t){t in this._data&&(delete this[t],delete this._data[t])},laroux.stack.prototype.clear=function(){for(var t in this._data)this._data.hasOwnProperty(t)&&(delete this[t],delete this._data[t]);this._data={}},laroux.stack.prototype.onupdate=function(t){}}.call(void 0);
//# sourceMappingURL=../../../build/dist/base/laroux.min.js.map