{"version":3,"sources":["laroux.js"],"names":["top","global","window","laroux","undefined","$l","helpers","extendObject","target","Array","prototype","shift","call","arguments","item","name","hasOwnProperty","Object","toArray","obj","length","items","i","ns","path","pathSlices","split","parent","length1","current","this","delegates","add","event","fnc","events","push","invoke","args","corsDefault","wrappers","registry","laroux.js","data","isSuccess","console","log","errorMessage","format","JSON","parse","object","eval","set","ajax","xDomainObject","xmlHttpRequestObject","xDomainRequestObject","xhr","crossDomain","XMLHttpRequest","XDomainRequest","xhrResp","options","wrapperFunction","getResponseHeader","response","datatype","responseText","responseXML","wrapperFunc","makeRequest","cors","url","timer","n","timeout","setTimeout","abort","timeoutFn","onreadystatechange","readyState","clearTimeout","status","res","e","error","statusText","success","complete","progress","getdata","constructor","queryString","buildQueryString","indexOf","jsonp","open","type","xhrFields","headers","wrapper","j","setRequestHeader","postdata","send","postdatatype","stringify","buildFormData","get","values","successfnc","errorfnc","getJson","getJsonP","method","getScript","post","postJson","Content-Type","next","Date","now","timers","remove","id","targetKey","currentItem","splice","ontick","removeKeys","result","state","reset","unshift","item2","list","condition","conditions","getAsArray","aindex","triggers","ontrigger","triggerName","eventIdx","count","conditionKey","conditionObj","cookiePath","getCookie","defaultValue","re","RegExp","encodeURIComponent","match","document","cookie","decodeURIComponent","setCookie","value","expires","expireValue","toGMTString","vars","removeCookie","getLocal","localStorage","setLocal","removeLocal","getSession","sessionStorage","setSession","removeSession","shortDateFormat","longDateFormat","timeFormat","monthsShort","monthsLong","strings","later","ago","seconds","aminute","minutes","ahour","hours","aday","days","aweek","weeks","amonth","months","ayear","years","parseEpoch","timespan","limitWithWeeks","Math","ceil","date","getCustomDateString","replace","getFullYear","getYear","getMonth","substr","getDate","hour1","getHours","hour2","getMinutes","getSeconds","getDateDiffString","getTime","absTimespan","abs","past","timespanstring","getShortDateString","includeTime","getLongDateString","stack","depth","_data","_depth","_top","setRange","key","defineProperty","configurable","newValue","oldValue","onupdate","scope","valueKey","getRange","keys","exists","clear"],"mappings":"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","file":"build/dist/base/laroux.min.js","sourcesContent":["/**\n * laroux.js - A jquery substitute for modern browsers (base bundle)\n *\n * @version v2.0.0\n * @link https://larukedi.github.io/laroux.js\n * @license Apache-2.0\n */\n(function () {\n    'use strict';\n\n    var top = (typeof global !== 'undefined') ? global : window;\n\n    // core\n    top.laroux = function () {\n    };\n    if (top.$l === undefined) {\n        top.$l = laroux;\n    }\n\n    laroux.helpers = {\n        extendObject: function () {\n            var target = Array.prototype.shift.call(arguments),\n                isArray = target instanceof Array;\n\n            for (var item in arguments) {\n                for (var name in arguments[item]) {\n                    // if (isArray) {\n                    //     target.push(arguments[item][name]);\n                    //     continue;\n                    // }\n\n                    /* target[name].constructor === Object */\n                    if (target.hasOwnProperty(name) && target[name] instanceof Object) {\n                        extendObject(target[name], arguments[item][name]);\n                        continue;\n                    }\n\n                    target[name] = arguments[item][name];\n                }\n            }\n        },\n\n        toArray: function (obj) {\n            var length = obj.length,\n                items = new Array(length);\n\n            for (var i = 0; i < length; i++) {\n                items[i] = obj[i];\n            }\n            return items;\n        }\n    };\n\n    laroux.ns = function (path, obj) {\n        var pathSlices = path.split('.'),\n            parent = top;\n\n        for (var i = 0, length1 = pathSlices.length; i < length1; i++) {\n            var current = pathSlices[i];\n\n            if (parent[current] === undefined) {\n                parent[current] = {};\n            }\n\n            parent = parent[current];\n        }\n\n        if (obj !== undefined) {\n            laroux.helpers.extendObject(parent, obj);\n        }\n\n        return parent;\n    };\n\n}).call(this);\n\n(function () {\n    'use strict';\n\n    // events\n    laroux.ns('laroux.events', {\n        delegates: [],\n\n        add: function (event, fnc) {\n            laroux.events.delegates.push({ event: event, fnc: fnc });\n        },\n\n        invoke: function (event, args) {\n            for (var item in laroux.events.delegates) {\n                if (!laroux.events.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux.events.delegates[item].event != event) {\n                    continue;\n                }\n\n                laroux.events.delegates[item].fnc(args);\n            }\n        }\n    });\n\n}).call(this);\n\n(function () {\n    'use strict';\n\n    // ajax - partially taken from 'jquery in parts' project\n    //        can be found at: https://github.com/mythz/jquip/\n    laroux.ns('laroux.ajax', {\n        corsDefault: false,\n\n        wrappers: {\n            registry: {\n                'laroux.js': function (data) {\n                    if (!data.isSuccess) {\n                        console.log('Error: ' + data.errorMessage);\n                        return;\n                    }\n\n                    var obj;\n\n                    if (data.format === 'json') {\n                        obj = JSON.parse(data.object);\n                    } else if (data.format === 'script') {\n                        /*jshint evil:true */\n                        /*jslint evil:true */\n                        obj = eval(data.object);\n                    } else { // if (data.format == 'xml') {\n                        obj = data.object;\n                    }\n\n                    return obj;\n                }\n            },\n\n            set: function (name, fnc) {\n                laroux.ajax.wrappers.registry[name] = fnc;\n            }\n        },\n\n        xDomainObject: false,\n        xmlHttpRequestObject: null,\n        xDomainRequestObject: null,\n        xhr: function (crossDomain) {\n            if (laroux.ajax.xmlHttpRequestObject === null) {\n                laroux.ajax.xmlHttpRequestObject = new XMLHttpRequest();\n            }\n\n            if (crossDomain) {\n                if (!('withCredentials' in laroux.ajax.xmlHttpRequestObject) && typeof XDomainRequest !== 'undefined') {\n                    laroux.ajax.xDomainObject = true;\n\n                    if (laroux.ajax.xDomainRequestObject === null) {\n                        laroux.ajax.xDomainRequestObject = new XDomainRequest();\n                    }\n\n                    return laroux.ajax.xDomainRequestObject;\n                }\n            } else {\n                laroux.ajax.xDomainObject = false;\n            }\n\n            return laroux.ajax.xmlHttpRequestObject;\n        },\n\n        xhrResp: function (xhr, options) {\n            var wrapperFunction = xhr.getResponseHeader('X-Response-Wrapper-Function'),\n                response;\n\n            if (options.datatype === undefined) {\n                response = xhr.responseText;\n            } else if (options.datatype === 'json') {\n                response = JSON.parse(xhr.responseText);\n            } else if (options.datatype === 'script') {\n                /*jshint evil:true */\n                /*jslint evil:true */\n                response = eval(xhr.responseText);\n            } else if (options.datatype === 'xml') {\n                response = xhr.responseXML;\n            } else {\n                response = xhr.responseText;\n            }\n\n            if (wrapperFunction && (wrapperFunction in laroux.ajax.wrappers.registry)) {\n                response = laroux.ajax.wrappers.registry[wrapperFunction](response);\n            }\n\n            return {\n                response: response,\n                wrapperFunc: wrapperFunction\n            };\n        },\n\n        makeRequest: function (options) {\n            var cors = options.cors || laroux.ajax.corsDefault,\n                xhr = laroux.ajax.xhr(cors),\n                url = options.url,\n                timer = null,\n                n = 0;\n\n            if (options.timeout !== undefined) {\n                timer = setTimeout(\n                    function () {\n                        xhr.abort();\n                        if (options.timeoutFn !== undefined) {\n                            options.timeoutFn(options.url);\n                        }\n                    },\n                    options.timeout\n                );\n            }\n\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4) {\n                    if (timer !== null) {\n                        clearTimeout(timer);\n                    }\n\n                    if (xhr.status < 300) {\n                        var res = null,\n                            isSuccess = true;\n\n                        try {\n                            res = laroux.ajax.xhrResp(xhr, options);\n                        } catch (e) {\n                            if (options.error !== undefined) {\n                                options.error(xhr, xhr.status, xhr.statusText);\n                            }\n\n                            laroux.events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                            isSuccess = false;\n                        }\n\n                        if (isSuccess) {\n                            if (options.success !== undefined && res !== null) {\n                                options.success(res.response, res.wrapperFunc);\n                            }\n\n                            laroux.events.invoke('ajaxSuccess', [xhr, res.response, res.wrapperFunc, options]);\n                        }\n                    } else {\n                        if (options.error !== undefined) {\n                            options.error(xhr, xhr.status, xhr.statusText);\n                        }\n\n                        laroux.events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                    }\n\n                    if (options.complete !== undefined) {\n                        options.complete(xhr, xhr.statusText);\n                    }\n\n                    laroux.events.invoke('ajaxComplete', [xhr, xhr.statusText, options]);\n                } else if (options.progress !== undefined) {\n                    /*jslint plusplus: true */\n                    options.progress(++n);\n                }\n            };\n\n            if (options.getdata !== undefined && options.getdata !== null) {\n                if (options.getdata.constructor === Object) {\n                    var queryString = laroux.helpers.buildQueryString(options.getdata);\n                    if (queryString.length > 0) {\n                        url += ((url.indexOf('?') < 0) ? '?' : '&') + queryString;\n                    }\n                } else {\n                    url += ((url.indexOf('?') < 0) ? '?' : '&') + options.getdata;\n                }\n            }\n\n            if (options.jsonp !== undefined) {\n                url += ((url.indexOf('?') < 0) ? '?' : '&') + 'jsonp=' + options.jsonp;\n            }\n\n            if (!laroux.ajax.xDomainObject) {\n                xhr.open(options.type, url, true);\n            } else {\n                xhr.open(options.type, url);\n            }\n\n            try {\n                if (options.xhrFields !== undefined) {\n                    for (var i in options.xhrFields) {\n                        if (!options.xhrFields.hasOwnProperty(i)) {\n                            continue;\n                        }\n\n                        xhr[i] = options.xhrFields[i];\n                    }\n                }\n\n                var headers = options.headers || {};\n\n                if (!cors) {\n                    headers['X-Requested-With'] = 'XMLHttpRequest';\n\n                    if (options.wrapper) {\n                        headers['X-Wrapper-Function'] = 'laroux.js';\n                    }\n                }\n\n                for (var j in headers) {\n                    if (!headers.hasOwnProperty(j)) {\n                        continue;\n                    }\n\n                    xhr.setRequestHeader(j, headers[j]);\n                }\n            } catch (e) {\n                console.log(e);\n            }\n\n            if (options.postdata === undefined || options.postdata === null) {\n                xhr.send(null);\n                return;\n            }\n\n            switch (options.postdatatype) {\n                case 'json':\n                    xhr.send(JSON.stringify(options.postdata));\n                    break;\n                case 'form':\n                    xhr.send(laroux.helpers.buildFormData(options.postdata));\n                    break;\n                default:\n                    xhr.send(options.postdata);\n                    break;\n            }\n        },\n\n        get: function (path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'html',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJson: function (path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'json',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJsonP: function (path, values, method, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                jsonp: method,\n                wrapper: false,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getScript: function (path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                wrapper: false,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        post: function (path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'form',\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        postJson: function (path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'json',\n                headers: {\n                    'Content-Type': 'application/json; charset=UTF-8'\n                },\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        }\n    });\n\n}).call(this);\n\n(function () {\n    'use strict';\n\n    // timers\n    laroux.ns('laroux.timers', {\n        data: [],\n\n        set: function (timer) {\n            timer.next = Date.now() + timer.timeout;\n            laroux.timers.data.push(timer);\n        },\n\n        remove: function (id) {\n            var targetKey = null;\n\n            for (var item in laroux.timers.data) {\n                if (!laroux.timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux.timers.data[item];\n\n                if (currentItem.id !== undefined && currentItem.id == id) {\n                    targetKey = item;\n                    break;\n                }\n            }\n\n            if (targetKey !== null) {\n                laroux.timers.data.splice(targetKey, 1);\n                return true;\n            }\n\n            return false;\n        },\n\n        ontick: function () {\n            var now = Date.now();\n\n            var removeKeys = [];\n            for (var item in laroux.timers.data) {\n                if (!laroux.timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux.timers.data[item];\n\n                if (currentItem.next <= now) {\n                    var result = currentItem.ontick(currentItem.state);\n\n                    if (result !== false && currentItem.reset) {\n                        currentItem.next = now + currentItem.timeout;\n                    } else {\n                        removeKeys.unshift(item);\n                    }\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux.timers.data.splice(removeKeys[item2], 1);\n            }\n        }\n    });\n\n}).call(this);\n\n(function () {\n    'use strict';\n\n    // triggers\n    laroux.ns('laroux.triggers', {\n        delegates: [],\n        list: [],\n\n        set: function (condition, fnc, state) {\n            var conditions = laroux.helpers.getAsArray(condition);\n\n            for (var item in conditions) {\n                if (!conditions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux.helpers.aindex(laroux.triggers.list, conditions[item]) === -1) {\n                    laroux.triggers.list.push(conditions[item]);\n                }\n            }\n\n            laroux.triggers.delegates.push({\n                conditions: conditions,\n                fnc: fnc,\n                state: state\n            });\n        },\n\n        ontrigger: function (triggerName, args) {\n            var eventIdx = laroux.helpers.aindex(laroux.triggers.list, triggerName);\n            if (eventIdx !== -1) {\n                laroux.triggers.list.splice(eventIdx, 1);\n            }\n\n            var removeKeys = [];\n            for (var item in laroux.triggers.delegates) {\n                if (!laroux.triggers.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var count = 0;\n                var currentItem = laroux.triggers.delegates[item];\n\n                for (var conditionKey in currentItem.conditions) {\n                    if (!currentItem.conditions.hasOwnProperty(conditionKey)) {\n                        continue;\n                    }\n\n                    var conditionObj = currentItem.conditions[conditionKey];\n\n                    if (laroux.helpers.aindex(laroux.triggers.list, conditionObj) !== -1) {\n                        count++;\n                        // break;\n                    }\n                }\n\n                if (count === 0) {\n                    currentItem.fnc(\n                        {\n                            state: currentItem.state,\n                            args: laroux.helpers.getAsArray(args)\n                        }\n                    );\n                    removeKeys.unshift(item);\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux.triggers.delegates.splice(removeKeys[item2], 1);\n            }\n\n            // console.log('trigger name: ' + triggerName);\n        }\n    });\n\n}).call(this);\n\n(function () {\n    'use strict';\n\n    // vars\n    laroux.ns('laroux.vars', {\n        cookiePath: '/',\n\n        getCookie: function (name, defaultValue) {\n            var re = new RegExp(encodeURIComponent(name) + '=[^;]+', 'i'),\n                match = document.cookie.match(re);\n\n            if (!match) {\n                return defaultValue || null;\n            }\n\n            return decodeURIComponent(match[0].split('=')[1]);\n        },\n\n        setCookie: function (name, value, expires, path) {\n            var expireValue = '';\n            if (expires) {\n                expireValue = '; expires=' + expires.toGMTString();\n            }\n\n            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value) + expireValue + '; path=' + (path || laroux.vars.cookiePath);\n        },\n\n        removeCookie: function (name, path) {\n            document.cookie = encodeURIComponent(name) + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=' + (path || laroux.vars.cookiePath);\n        },\n\n        getLocal: function (name, defaultValue) {\n            if (!(name in localStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(localStorage[name]);\n        },\n\n        setLocal: function (name, value) {\n            localStorage[name] = JSON.stringify(value);\n        },\n\n        removeLocal: function (name) {\n            delete localStorage[name];\n        },\n\n        getSession: function (name, defaultValue) {\n            if (!(name in sessionStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(sessionStorage[name]);\n        },\n\n        setSession: function (name, value) {\n            sessionStorage[name] = JSON.stringify(value);\n        },\n\n        removeSession: function (name) {\n            delete sessionStorage[name];\n        }\n    });\n\n}).call(this);\n\n(function () {\n    'use strict';\n\n    // date\n    laroux.ns('laroux.date', {\n        shortDateFormat: 'dd.MM.yyyy',\n        longDateFormat: 'dd MMMM yyyy',\n        timeFormat: 'HH:mm',\n\n        monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        monthsLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\n        strings: {\n            now:     'now',\n            later:   'later',\n            ago:     'ago',\n            seconds: 'seconds',\n            aminute: 'a minute',\n            minutes: 'minutes',\n            ahour:   'a hour',\n            hours:   'hours',\n            aday:    'a day',\n            days:    'days',\n            aweek:   'a week',\n            weeks:   'weeks',\n            amonth:  'a month',\n            months:  'months',\n            ayear:   'a year',\n            years:   'years'\n        },\n\n        parseEpoch: function (timespan, limitWithWeeks) {\n            if (timespan < 60 * 1000) {\n                timespan = Math.ceil(timespan / 1000);\n\n                return timespan + ' ' + laroux.date.strings.seconds;\n            }\n\n            if (timespan < 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux.date.strings.aminute;\n                }\n\n                return timespan + ' ' + laroux.date.strings.minutes;\n            }\n\n            if (timespan < 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux.date.strings.ahour;\n                }\n\n                return timespan + ' ' + laroux.date.strings.hours;\n            }\n\n            if (timespan < 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux.date.strings.aday;\n                }\n\n                return timespan + ' ' + laroux.date.strings.days;\n            }\n\n            if (timespan < 4 * 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (7 * 24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux.date.strings.aweek;\n                }\n\n                return timespan + ' ' + laroux.date.strings.weeks;\n            }\n\n            if (limitWithWeeks === true) {\n                return null;\n            }\n\n            if (timespan < 30 * 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (30 * 24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux.date.strings.amonth;\n                }\n\n                return timespan + ' ' + laroux.date.strings.months;\n            }\n\n            timespan = Math.ceil(timespan / (365 * 24 * 60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return laroux.date.strings.ayear;\n            }\n\n            return timespan + ' ' + laroux.date.strings.years;\n        },\n\n        getCustomDateString: function (format, date) {\n            var now = date || new Date();\n\n            return format.replace(\n                /yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g,\n                function (match) {\n                    switch (match) {\n                    case 'yyyy':\n                        return now.getFullYear();\n\n                    case 'yy':\n                        return now.getYear();\n\n                    case 'MMMM':\n                        return laroux.date.monthsLong[now.getMonth()];\n\n                    case 'MMM':\n                        return laroux.date.monthsShort[now.getMonth()];\n\n                    case 'MM':\n                        return ('0' + (now.getMonth() + 1)).substr(-2, 2);\n\n                    case 'M':\n                        return now.getMonth() + 1;\n\n                    case 'dd':\n                        return ('0' + now.getDate()).substr(-2, 2);\n\n                    case 'd':\n                        return now.getDate();\n\n                    case 'hh':\n                        var hour1 = now.getHours();\n                        return ('0' + (((hour1 % 12) > 0) ? hour1 % 12 : 12)).substr(-2, 2);\n\n                    case 'h':\n                        var hour2 = now.getHours();\n                        return ((hour2 % 12) > 0) ? hour2 % 12 : 12;\n\n                    case 'HH':\n                        return ('0' + now.getHours()).substr(-2, 2);\n\n                    case 'H':\n                        return now.getHours();\n\n                    case 'mm':\n                        return ('0' + now.getMinutes()).substr(-2, 2);\n\n                    case 'm':\n                        return now.getMinutes();\n\n                    case 'ss':\n                        return ('0' + now.getSeconds()).substr(-2, 2);\n\n                    case 's':\n                        return now.getSeconds();\n\n                    case 'tt':\n                        if (now.getHours() >= 12) {\n                            return 'pm';\n                        }\n\n                        return 'am';\n\n                    case 't':\n                        if (now.getHours() >= 12) {\n                            return 'p';\n                        }\n\n                        return 'a';\n                    }\n\n                    return match;\n                }\n            );\n        },\n\n        getDateDiffString: function (date) {\n            var now = Date.now(),\n                timespan = now - date.getTime(),\n                absTimespan = Math.abs(timespan),\n                past = (timespan > 0);\n\n            if (absTimespan <= 3000) {\n                return laroux.date.strings.now;\n            }\n\n            var timespanstring = laroux.date.parseEpoch(absTimespan, true);\n            if (timespanstring !== null) {\n                return timespanstring +\n                    ' ' +\n                    (past ? laroux.date.strings.ago : laroux.date.strings.later);\n            }\n\n            return laroux.date.getShortDateString(date, true);\n        },\n\n        getShortDateString: function (date, includeTime) {\n            return laroux.date.getCustomDateString(\n                includeTime ? laroux.date.shortDateFormat + ' ' + laroux.date.timeFormat : laroux.date.shortDateFormat,\n                date\n            );\n        },\n\n        getLongDateString: function (date, includeTime) {\n            return laroux.date.getCustomDateString(\n                includeTime ? laroux.date.longDateFormat + ' ' + laroux.date.timeFormat : laroux.date.longDateFormat,\n                date\n            );\n        }\n    });\n\n}).call(this);\n\n/*jslint nomen: true */\n(function () {\n    'use strict';\n\n    // stack\n    laroux.ns('laroux', {\n        stack: function (data, depth, top) {\n            if (!(this instanceof laroux.stack)) {\n                return new this(data, depth, top);\n            }\n\n            this._data = {};\n            this._depth = depth;\n            this._top = top || this;\n\n            if (data) {\n                this.setRange(data);\n            }\n        }\n    });\n\n    laroux.stack.prototype.set = function (key, value) {\n        // delete this._data[key];\n\n        var type = typeof value;\n        switch (type) {\n        case 'function':\n            this._data[key] = value;\n\n            Object.defineProperty(\n                this,\n                key,\n                {\n                    configurable: true,\n                    get: function () {\n                        return this._data[key]();\n                    }\n                }\n            );\n            break;\n\n        default:\n            /*\n            if (type == 'object') {\n                this._data[key] = new laroux.stack(\n                    value,\n                    this._depth ?\n                        this._depth + '.' + key :\n                        key,\n                    this._top\n                );\n            } else {\n                this._data[key] = value;\n            }\n            */\n            this._data[key] = value;\n\n            Object.defineProperty(\n                this,\n                key,\n                {\n                    configurable: true,\n                    get: function () {\n                        return this._data[key];\n                    },\n                    set: function (newValue) {\n                        var oldValue = this._data[key];\n                        if (this._data[key] === newValue) {\n                            return;\n                        }\n\n                        // this.set(this, key, newValue);\n                        this._data[key] = newValue;\n                        this._top.onupdate({ scope: this, key: key, oldValue: oldValue, newValue: newValue });\n                    }\n                }\n            );\n            break;\n        }\n    };\n\n    laroux.stack.prototype.setRange = function (values) {\n        for (var valueKey in values) {\n            if (!values.hasOwnProperty(valueKey)) {\n                continue;\n            }\n\n            this.set(valueKey, values[valueKey]);\n        }\n    };\n\n    laroux.stack.prototype.get = function (key, defaultValue) {\n        return this[key] || defaultValue || null;\n    };\n\n    laroux.stack.prototype.getRange = function (keys) {\n        var values = {};\n\n        for (var item in keys) {\n            if (!keys.hasOwnProperty(item)) {\n                continue;\n            }\n\n            values[keys[item]] = this[keys[item]];\n        }\n\n        return values;\n    };\n\n    laroux.stack.prototype.keys = function () {\n        return Object.keys(this._data);\n    };\n\n    laroux.stack.prototype.length = function () {\n        return Object.keys(this._data).length;\n    };\n\n    laroux.stack.prototype.exists = function (key) {\n        return (key in this._data);\n    };\n\n    laroux.stack.prototype.remove = function (key) {\n        if (key in this._data) {\n            delete this[key];\n            delete this._data[key];\n        }\n    };\n\n    laroux.stack.prototype.clear = function () {\n        for (var item in this._data) {\n            if (!this._data.hasOwnProperty(item)) {\n                continue;\n            }\n\n            delete this[item];\n            delete this._data[item];\n        }\n\n        this._data = {};\n    };\n\n    laroux.stack.prototype.onupdate = function (event) {\n    };\n\n}).call(this);\n"],"sourceRoot":"/source/"}