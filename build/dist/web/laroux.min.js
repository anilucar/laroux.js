/**
 * laroux.js - A jquery substitute for modern browsers (web bundle)
 *
 * @version v2.0.0
 * @link https://larukedi.github.io/laroux.js
 * @license Apache-2.0
 */
!function(e){"use strict";var t=function(){};if(void 0===e.document&&(e.document={attachEvent:t,createEventObject:t,readyState:null}),"requestAnimationFrame"in e||(e.requestAnimationFrame=function(e){setTimeout(function(){e(Date.now())},50)}),"getComputedStyle"in e||(e.getComputedStyle=function(e){return this.element=e,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),this.element.currentStyle[e]||null},this.getPropertyCSSValue=function(e){return new CSSPrimitiveValue(this.element,e)},this}),"CSSPrimitiveValue"in e||(e.CSSPrimitiveValue=function(e,t){this.element=e,this.prop=t,this.primitiveType=0,this.getFloatValue=function(){var e=/(\-([a-z]){1})/g,t=this.prop;return"float"===t&&(t="styleFloat"),e.test(t)&&(t=t.replace(e,function(){return arguments[2].toUpperCase()})),this.element.currentStyle[t]||null}}),void 0===e.Event&&(e.Event=t),"preventDefault"in Event.prototype||(Event.prototype.preventDefault=function(){this.returnValue=!1}),"stopPropagation"in Event.prototype||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),void 0===e.Element&&(e.Element=t),!("addEventListener"in Element.prototype)){var r=[],o=function(e,t){var o=this,a=function(e){e.target=e.srcElement,e.currentTarget=o,t(o,e)};"DOMContentLoaded"!==e&&this.attachEvent("on"+e,a),r.push({object:this,type:e,listener:t,wrapper:a})},a=function(e,t){for(var o=0,a=r.length;a>o;o++){var n=r[o];if(n.object===this&&n.type===e&&n.listener===t){"DOMContentLoaded"!=e&&this.detachEvent("on"+e,n.wrapper),r.splice(o,1);break}}},n=function(e){var t=document.createEventObject();this.fireEvent("on"+e.type,t)};Element.prototype.addEventListener=o,Element.prototype.removeEventListener=a,Element.prototype.dispatchEvent=n,void 0!==e.HTMLDocument&&(HTMLDocument.prototype.addEventListener=o,HTMLDocument.prototype.removeEventListener=a,HTMLDocument.prototype.dispatchEvent=n),void 0!==e.Window&&(Window.prototype.addEventListener=o,Window.prototype.removeEventListener=a,Window.prototype.dispatchEvent=n),document.attachEvent("onreadystatechange",function(){if("complete"==document.readyState)for(var e=document.createEventObject(),t=0,o=r.length;o>t;t++)r[t].object===document&&"DOMContentLoaded"===r[t].type&&r[t].wrapper(e)})}if(void 0===e.Text&&(e.Text=t),!("textContent"in Element.prototype)){var i=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return i.get.call(this)},set:function(e){return i.set.call(this,e)}})}if("getAttribute"in Element.prototype||(Element.prototype.getAttribute=function(e){return this.attributes[e].value}),"setAttribute"in Element.prototype||(Element.prototype.setAttribute=function(e,t){this.attributes[e].value=t}),"removeAttribute"in Element.prototype||(Element.prototype.removeAttribute=function(e){this.attributes.removeNamedItem(e)}),"firstElementChild"in Element.prototype||Object.defineProperty(Element.prototype,"firstElementChild",{get:function(){return this.children[0]}}),"classList"in Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){var e=this;return{add:function(t){e.className=e.className.trim()+" "+t},remove:function(t){e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},contains:function(t){return new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}}}}),!("textContent"in Text.prototype)){var u=Object.getOwnPropertyDescriptor(Text.prototype,"nodeValue");Object.defineProperty(Text.prototype,"textContent",{get:function(){return u.get.call(this)},set:function(e){return u.set.call(this,e)}})}"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"observe"in Object||(Object.observe=t),"keys"in Object||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t})}("undefined"!=typeof window?window:global),function(){"use strict";var e="undefined"!=typeof global?global:window;e.laroux=function(e,t){return e instanceof Array?laroux.helpers.toArray((t||document).querySelectorAll(e)):(t||document).querySelector(e)},void 0===e.$l&&(e.$l=laroux),laroux.helpers={extendObject:function(){{var e=Array.prototype.shift.call(arguments);e instanceof Array}for(var t in arguments)for(var r in arguments[t])e.hasOwnProperty(r)&&e[r]instanceof Object?laroux.helpers.extendObject(e[r],arguments[t][r]):e[r]=arguments[t][r]},toArray:function(e){for(var t=e.length,r=new Array(t),o=0;t>o;o++)r[o]=e[o];return r}},laroux.ns=function(t,r){for(var o=t.split("."),a=e,n=0,i=o.length;i>n;n++){var u=o[n];void 0===a[u]&&(a[u]={}),a=a[u]}return void 0!==r&&laroux.helpers.extendObject(a,r),a}}.call(this),function(){"use strict";laroux.ns("laroux.helpers",{uniqueId:0,getUniqueId:function(){return"uid-"+ ++laroux.helpers.uniqueId},buildQueryString:function(e,t){var r="",o=/%20/g;for(var a in e)e.hasOwnProperty(a)&&"function"!=typeof e[a]&&(r+=t?"&"+encodeURIComponent(a).replace(o,"+")+"="+encodeURIComponent(e[a].toString()).replace(o,"+"):"&"+encodeURIComponent(a)+"="+encodeURIComponent(e[a].toString()));return r.substr(1)},buildFormData:function(e){var t=new FormData;for(var r in e)e.hasOwnProperty(r)&&"function"!=typeof e[r]&&t.append(r,e[r]);return t},format:function(){var e=arguments;return Array.prototype.shift.call(e).replace(/%s/g,function(){return Array.prototype.shift.call(e)})},replaceAll:function(e,t){var r=new RegExp(Object.keys(t).join("|"),"g");return e.replace(r,function(e){return t[e]})},camelCase:function(e){for(var t=!1,r="",o=0;o<e.length;o++){var a=e.charAt(o);"-"!=a?(r+=t?a.toUpperCase():a,t=!1):t=!0}return r},antiCamelCase:function(e){for(var t="",r=0;r<e.length;r++){var o=e.charAt(r);t+="-"==o||o!=o.toUpperCase()?o:"-"+o.toLowerCase()}return t},quoteAttr:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\r\n/g,"&#13;").replace(/[\r\n]/g,"&#13;")},spliceString:function(e,t,r,o){return e.slice(0,t)+(o||"")+e.slice(t+r)},random:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},find:function(e,t,r){var o;return e.some(function(e,a,n){return t.call(r,e,a,n)?(o=e,!0):void 0}),o},each:function(e,t,r){for(var o in e)if((!r||e.hasOwnProperty(o))&&t(o,e[o])===!1)break;return e},map:function(e,t,r,o){var a=[];for(var n in e)if(!o||e.hasOwnProperty(n)){var i=t(e[n],n);if(i===!1)break;(r||void 0!==i)&&a.push(i)}return a},index:function(e,t,r){for(var o in e)if((!r||e.hasOwnProperty(o))&&e[o]===object)return o;return null},aeach:function(e,t){for(var r=0,o=e.length;o>r&&t(r,e[r])!==!1;r++);return e},amap:function(e,t,r){for(var o=[],a=0,n=e.length;n>a;a++){var i=t(e[a],a);if(i===!1)break;(r||void 0!==i)&&o.unshift(i)}return o},aindex:function(e,t,r){for(var o=r||0,a=e.length;a>o;o++)if(e[o]===t)return o;return-1},column:function(e,t){return laroux.helpers.map(e,function(e){return e[t]},!0)},shuffle:function(e){var t=0,r=[];for(var o in e)if(e.hasOwnProperty(o)){var a=laroux.helpers.random(0,t);r[t++]=r[a],r[a]=e[o]}return r},merge:function(){var e=Array.prototype.shift.call(arguments),t=e,r=t instanceof Array;for(var o in arguments)if(r)t=t.concat(arguments[o]);else for(var a in arguments[o])arguments[o].hasOwnProperty(a)&&(t[a]=arguments[o][a]);return t},duplicate:function(e){return JSON.parse(JSON.stringify(e))},toArray:function(e){for(var t=e.length,r=new Array(t),o=0;t>o;o++)r[o]=e[o];return r},getAsArray:function(e){var t;if(e instanceof Array)t=e;else if(e instanceof NodeList){var r=e.length;t=new Array(r);for(var o=0;r>o;o++)t[o]=e[o]}else t=[e];return t},getLength:function(e){return e.constructor===Object?void 0!==e.length?e.length:Object.keys(e).length:-1},getKeysRecursive:function(e,t,r,o){void 0===t&&(t="."),void 0===r&&(r="",o=[]);for(var a in e)e.hasOwnProperty(a)&&(o.push(r+a),void 0===e[a]||null===e[a]||e[a].constructor!==Object||laroux.helpers.getKeysRecursive(e[a],t,r+a+t,o));return o},getElement:function(e,t,r,o){void 0===r&&(r=null),void 0===o&&(o=".");var a,n,i=t.indexOf(o);return-1===i?(a=t,n=null):(a=t.substring(0,i),n=t.substring(i+1)),a in e?null===n||0===n.length?e[a]:laroux.helpers.getElement(e[a],n,r,o):r}})}.call(this),function(){"use strict";laroux.ns("laroux.events",{delegates:[],add:function(e,t){laroux.events.delegates.push({event:e,fnc:t})},invoke:function(e,t){for(var r in laroux.events.delegates)laroux.events.delegates.hasOwnProperty(r)&&laroux.events.delegates[r].event==e&&laroux.events.delegates[r].fnc(t)}})}.call(this),function(){"use strict";laroux.ns("laroux.ajax",{corsDefault:!1,wrappers:{registry:{"laroux.js":function(data){if(!data.isSuccess)return void console.log("Error: "+data.errorMessage);var obj;return obj="json"===data.format?JSON.parse(data.object):"script"===data.format?eval(data.object):data.object}},set:function(e,t){laroux.ajax.wrappers.registry[e]=t}},xDomainObject:!1,xmlHttpRequestObject:null,xDomainRequestObject:null,xhr:function(e){if(null===laroux.ajax.xmlHttpRequestObject&&(laroux.ajax.xmlHttpRequestObject=new XMLHttpRequest),e){if(!("withCredentials"in laroux.ajax.xmlHttpRequestObject)&&"undefined"!=typeof XDomainRequest)return laroux.ajax.xDomainObject=!0,null===laroux.ajax.xDomainRequestObject&&(laroux.ajax.xDomainRequestObject=new XDomainRequest),laroux.ajax.xDomainRequestObject}else laroux.ajax.xDomainObject=!1;return laroux.ajax.xmlHttpRequestObject},xhrResp:function(xhr,options){var wrapperFunction=xhr.getResponseHeader("X-Response-Wrapper-Function"),response;return response=void 0===options.datatype?xhr.responseText:"json"===options.datatype?JSON.parse(xhr.responseText):"script"===options.datatype?eval(xhr.responseText):"xml"===options.datatype?xhr.responseXML:xhr.responseText,wrapperFunction&&wrapperFunction in laroux.ajax.wrappers.registry&&(response=laroux.ajax.wrappers.registry[wrapperFunction](response)),{response:response,wrapperFunc:wrapperFunction}},makeRequest:function(e){var t=new laroux.promise;return t.then(function(){var r=e.cors||laroux.ajax.corsDefault,o=laroux.ajax.xhr(r),a=e.url,n=null,i=0;if(void 0!==e.timeout&&(n=setTimeout(function(){o.abort(),t.invoke("timeout",e.url),t.complete()},e.timeout)),o.onreadystatechange=function(){if(4===o.readyState){if(null!==n&&clearTimeout(n),o.status<300){var r=null,a=!0;try{r=laroux.ajax.xhrResp(o,e)}catch(u){t.invoke("error",u,o),t.complete(),laroux.events.invoke("ajaxError",[o,o.status,o.statusText,e]),a=!1}a&&null!==r&&(t.next(r.response,r.wrapperFunc),laroux.events.invoke("ajaxSuccess",[o,r.response,r.wrapperFunc,e]))}else t.invoke("error",u,o),laroux.events.invoke("ajaxError",[o,o.status,o.statusText,e]);laroux.events.invoke("ajaxComplete",[o,o.statusText,e])}else void 0!==e.progress&&e.progress(++i)},void 0!==e.getdata&&null!==e.getdata)if(e.getdata.constructor===Object){var u=laroux.helpers.buildQueryString(e.getdata);u.length>0&&(a+=(a.indexOf("?")<0?"?":"&")+u)}else a+=(a.indexOf("?")<0?"?":"&")+e.getdata;void 0!==e.jsonp&&(a+=(a.indexOf("?")<0?"?":"&")+"jsonp="+e.jsonp),laroux.ajax.xDomainObject?o.open(e.type,a):o.open(e.type,a,!0);try{if(void 0!==e.xhrFields)for(var l in e.xhrFields)e.xhrFields.hasOwnProperty(l)&&(o[l]=e.xhrFields[l]);var s=e.headers||{};r||(s["X-Requested-With"]="XMLHttpRequest",e.wrapper&&(s["X-Wrapper-Function"]="laroux.js"));for(var c in s)s.hasOwnProperty(c)&&o.setRequestHeader(c,s[c])}catch(p){console.log(p)}if(void 0===e.postdata||null===e.postdata)return void o.send(null);switch(e.postdatatype){case"json":o.send(JSON.stringify(e.postdata));break;case"form":o.send(laroux.helpers.buildFormData(e.postdata));break;default:o.send(e.postdata)}},!0)},get:function(e,t,r){return laroux.ajax.makeRequest({type:"GET",url:e,datatype:"html",getdata:t,wrapper:!0,cors:r||laroux.ajax.corsDefault})},getJson:function(e,t,r){return laroux.ajax.makeRequest({type:"GET",url:e,datatype:"json",getdata:t,wrapper:!0,cors:r||laroux.ajax.corsDefault})},getJsonP:function(e,t,r,o){return laroux.ajax.makeRequest({type:"GET",url:e,datatype:"script",getdata:t,jsonp:r,wrapper:!1,cors:o||laroux.ajax.corsDefault})},getScript:function(e,t,r){return laroux.ajax.makeRequest({type:"GET",url:e,datatype:"script",getdata:t,wrapper:!1,cors:r||laroux.ajax.corsDefault})},post:function(e,t,r){return laroux.ajax.makeRequest({type:"POST",url:e,datatype:"json",postdata:t,postdatatype:"form",wrapper:!0,cors:r||laroux.ajax.corsDefault})},postJson:function(e,t,r){return laroux.ajax.makeRequest({type:"POST",url:e,datatype:"json",postdata:t,postdatatype:"json",headers:{"Content-Type":"application/json; charset=UTF-8"},wrapper:!0,cors:r||laroux.ajax.corsDefault})}})}.call(this),function(){"use strict";laroux.ns("laroux.timers",{data:[],set:function(e){e.next=Date.now()+e.timeout,laroux.timers.data.push(e)},remove:function(e){var t=null;for(var r in laroux.timers.data)if(laroux.timers.data.hasOwnProperty(r)){var o=laroux.timers.data[r];if(void 0!==o.id&&o.id==e){t=r;break}}return null!==t?(laroux.timers.data.splice(t,1),!0):!1},ontick:function(){var e=Date.now(),t=[];for(var r in laroux.timers.data)if(laroux.timers.data.hasOwnProperty(r)){var o=laroux.timers.data[r];if(o.next<=e){var a=o.ontick(o.state);a!==!1&&o.reset?o.next=e+o.timeout:t.unshift(r)}}for(var n in t)t.hasOwnProperty(n)&&laroux.timers.data.splice(t[n],1)}})}.call(this),function(){"use strict";laroux.ns("laroux",{promise:function(e,t){return this instanceof laroux.promise?(this._delegates=[],this._delegateQueue=null,this._events=[],this._eventStack=null,this.completed=!1,void(void 0!==e&&this.then(e,t))):new laroux.promise(e,t)}}),laroux.promise.prototype.then=function(e,t){var r={fnc:e,isAsync:t};return this._delegates.push(r),this},laroux.promise.prototype.on=function(e,t){var r=laroux.helpers.getAsArray(e),o={conditions:r,fnc:t};return this._events.push(o),this},laroux.promise.prototype.invoke=function(){var e=Array.prototype.shift.call(arguments),t=[];for(var r in this._eventStack)if(this._eventStack.hasOwnProperty(r)){var o=this._eventStack[r],a=laroux.helpers.aindex(o.conditions,e);-1!==a&&o.conditions.splice(a,1),o.conditions.length>0||(t.unshift(r),o.fnc.apply(this,arguments))}for(var n in t)t.hasOwnProperty(n)&&this._eventStack.splice(t[n],1)},laroux.promise.prototype.complete=function(){this.completed=!0,this.invoke("complete")},laroux.promise.prototype.next=function(){var e=this,t=this._delegateQueue.shift(),r=laroux.helpers.toArray(arguments);if(this.completed)return this;if(void 0===t){var o=["success"].concat(r);return this.invoke.apply(this,o),this.complete(),this}return setTimeout(function(){try{var o=t.fnc.apply(e,r);t.isAsync!==!0&&e.next.call(e,o)}catch(a){e.invoke("error",a),e.complete()}},0),this},laroux.promise.prototype.start=function(){return this._delegateQueue=this._delegates.slice(),this._eventStack=this._events.slice(),this.completed=!1,this.next.apply(this,arguments)}}.call(this),function(){"use strict";laroux.ns("laroux.vars",{cookiePath:"/",getCookie:function(e,t){var r=new RegExp(encodeURIComponent(e)+"=[^;]+","i"),o=document.cookie.match(r);return o?decodeURIComponent(o[0].split("=")[1]):t||null},setCookie:function(e,t,r,o){var a="";r&&(a="; expires="+r.toGMTString()),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+"; path="+(o||laroux.vars.cookiePath)},removeCookie:function(e,t){document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+(t||laroux.vars.cookiePath)},getLocal:function(e,t){return e in localStorage?JSON.parse(localStorage[e]):t||null},setLocal:function(e,t){localStorage[e]=JSON.stringify(t)},removeLocal:function(e){delete localStorage[e]},getSession:function(e,t){return e in sessionStorage?JSON.parse(sessionStorage[e]):t||null},setSession:function(e,t){sessionStorage[e]=JSON.stringify(t)},removeSession:function(e){delete sessionStorage[e]}})}.call(this),function(){"use strict";laroux.ns("laroux.date",{shortDateFormat:"dd.MM.yyyy",longDateFormat:"dd MMMM yyyy",timeFormat:"HH:mm",monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsLong:["January","February","March","April","May","June","July","August","September","October","November","December"],strings:{now:"now",later:"later",ago:"ago",seconds:"seconds",aminute:"a minute",minutes:"minutes",ahour:"a hour",hours:"hours",aday:"a day",days:"days",aweek:"a week",weeks:"weeks",amonth:"a month",months:"months",ayear:"a year",years:"years"},parseEpoch:function(e,t){return 6e4>e?(e=Math.ceil(e/1e3),e+" "+laroux.date.strings.seconds):36e5>e?(e=Math.ceil(e/6e4),1===e?laroux.date.strings.aminute:e+" "+laroux.date.strings.minutes):864e5>e?(e=Math.ceil(e/36e5),1===e?laroux.date.strings.ahour:e+" "+laroux.date.strings.hours):6048e5>e?(e=Math.ceil(e/864e5),1===e?laroux.date.strings.aday:e+" "+laroux.date.strings.days):24192e5>e?(e=Math.ceil(e/6048e5),1===e?laroux.date.strings.aweek:e+" "+laroux.date.strings.weeks):t===!0?null:18144e6>e?(e=Math.ceil(e/2592e6),1===e?laroux.date.strings.amonth:e+" "+laroux.date.strings.months):(e=Math.ceil(e/31536e6),1===e?laroux.date.strings.ayear:e+" "+laroux.date.strings.years)},getCustomDateString:function(e,t){var r=t||new Date;return e.replace(/yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g,function(e){switch(e){case"yyyy":return r.getFullYear();case"yy":return r.getYear();case"MMMM":return laroux.date.monthsLong[r.getMonth()];case"MMM":return laroux.date.monthsShort[r.getMonth()];case"MM":return("0"+(r.getMonth()+1)).substr(-2,2);case"M":return r.getMonth()+1;case"dd":return("0"+r.getDate()).substr(-2,2);case"d":return r.getDate();case"hh":var t=r.getHours();return("0"+(t%12>0?t%12:12)).substr(-2,2);case"h":var o=r.getHours();return o%12>0?o%12:12;case"HH":return("0"+r.getHours()).substr(-2,2);case"H":return r.getHours();case"mm":return("0"+r.getMinutes()).substr(-2,2);case"m":return r.getMinutes();case"ss":return("0"+r.getSeconds()).substr(-2,2);case"s":return r.getSeconds();case"tt":return r.getHours()>=12?"pm":"am";case"t":return r.getHours()>=12?"p":"a"}return e})},getDateDiffString:function(e){var t=Date.now(),r=t-e.getTime(),o=Math.abs(r),a=r>0;if(3e3>=o)return laroux.date.strings.now;var n=laroux.date.parseEpoch(o,!0);return null!==n?n+" "+(a?laroux.date.strings.ago:laroux.date.strings.later):laroux.date.getShortDateString(e,!0)},getShortDateString:function(e,t){return laroux.date.getCustomDateString(t?laroux.date.shortDateFormat+" "+laroux.date.timeFormat:laroux.date.shortDateFormat,e)},getLongDateString:function(e,t){return laroux.date.getCustomDateString(t?laroux.date.longDateFormat+" "+laroux.date.timeFormat:laroux.date.longDateFormat,e)}})}.call(this),function(){"use strict";laroux.ns("laroux",{stack:function(e,t,r){return this instanceof laroux.stack?(this._data={},this._depth=t,this._top=r||this,void(e&&this.setRange(e))):new this(e,t,r)}}),laroux.stack.prototype.set=function(e,t){var r=typeof t;switch(r){case"function":this._data[e]=t,Object.defineProperty(this,e,{configurable:!0,get:function(){return this._data[e]()}});break;default:this._data[e]=t,Object.defineProperty(this,e,{configurable:!0,get:function(){return this._data[e]},set:function(t){var r=this._data[e];this._data[e]!==t&&(this._data[e]=t,this._top.onupdate({scope:this,key:e,oldValue:r,newValue:t}))}})}},laroux.stack.prototype.setRange=function(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t])},laroux.stack.prototype.get=function(e,t){return this[e]||t||null},laroux.stack.prototype.getRange=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=this[e[r]]);return t},laroux.stack.prototype.keys=function(){return Object.keys(this._data)},laroux.stack.prototype.length=function(){return Object.keys(this._data).length},laroux.stack.prototype.exists=function(e){return e in this._data},laroux.stack.prototype.remove=function(e){e in this._data&&(delete this[e],delete this._data[e])},laroux.stack.prototype.clear=function(){for(var e in this._data)this._data.hasOwnProperty(e)&&(delete this[e],delete this._data[e]);this._data={}},laroux.stack.prototype.onupdate=function(){}}.call(this),function(){"use strict";laroux.ns("laroux.css",{hasClass:function(e,t){return e.classList.contains(t)},addClass:function(e,t){for(var r=laroux.helpers.getAsArray(e),o=0,a=r.length;a>o;o++)r[o].classList.add(t)},removeClass:function(e,t){for(var r=laroux.helpers.getAsArray(e),o=0,a=r.length;a>o;o++)r[o].classList.remove(t)},toggleClass:function(e,t){for(var r=laroux.helpers.getAsArray(e),o=0,a=r.length;a>o;o++)r[o].classList.contains(t)?r[o].classList.remove(t):r[o].classList.add(t)},cycleClass:function(e,t){for(var r=0,o=e.length;o>r;r++)if(e[r].classList.contains(t))return e[r].classList.remove(t),void e[(r+1)%o].classList.add(t)},getProperty:function(e,t){var r=getComputedStyle(e);return t=laroux.helpers.antiCamelCase(t),r.getPropertyValue(t)},setProperty:function(e,t,r){var o=laroux.helpers.getAsArray(e);if("string"==typeof t){var a=t;t={},t[a]=r}for(var n in t)if(t.hasOwnProperty(n))for(var i=laroux.helpers.camelCase(n),u=0,l=o.length;l>u;u++)o[u].style[i]=t[n]},defaultTransition:"2s ease",setTransitionSingle:function(e,t){var r,o=laroux.helpers.getAsArray(t),a=getComputedStyle(e),n=a.getPropertyValue("transition")||a.getPropertyValue("-webkit-transition")||a.getPropertyValue("-ms-transition")||"";r=n.length>0?n.split(","):[];for(var i in o)if(o.hasOwnProperty(i)){var u,l,s=o[i].indexOf(" ");-1!==s?(u=o[i].substring(0,s),l=o[i].substring(s+1)):(u=o[i],l=laroux.css.defaultTransition);for(var c=!1,p=0;p<r.length;p++)if(0===r[p].trim().localeCompare(u)){r[p]=u+" "+l,c=!0;break}c||r.push(u+" "+l)}var d=r.join(", ");e.style.transition=d,e.style.webkitTransition=d,e.style.msTransition=d},setTransition:function(e,t){for(var r=laroux.helpers.getAsArray(e),o=0,a=r.length;a>o;o++)laroux.css.setTransitionSingle(r[o],t)},show:function(e,t){void 0!==t?laroux.css.setTransition(e,"opacity "+t):laroux.css.setTransition(e,"opacity"),laroux.css.setProperty(e,{opacity:1})},hide:function(e,t){void 0!==t?laroux.css.setTransition(e,"opacity "+t):laroux.css.setTransition(e,"opacity"),laroux.css.setProperty(e,{opacity:0})},height:function(e){var t=getComputedStyle(e),r=t.getPropertyCSSValue("height");return r.getFloatValue(r.primitiveType)},innerHeight:function(e){return e.clientHeight},outerHeight:function(e,t){if(t)return e.offsetHeight;var r=getComputedStyle(e),o=r.getPropertyCSSValue("margin-top"),a=r.getPropertyCSSValue("margin-bottom"),n=o.getFloatValue(o.primitiveType)+a.getFloatValue(a.primitiveType);return Math.ceil(e.offsetHeight+n)},width:function(e){var t=getComputedStyle(e),r=t.getPropertyCSSValue("width");return r.getFloatValue(r.primitiveType)},innerWidth:function(e){return e.clientWidth},outerWidth:function(e,t){if(t)return e.offsetWidth;var r=getComputedStyle(e),o=r.getPropertyCSSValue("margin-left"),a=r.getPropertyCSSValue("margin-right"),n=o.getFloatValue(o.primitiveType)+a.getFloatValue(a.primitiveType);return Math.ceil(e.offsetWidth+n)},top:function(e){return e.getBoundingClientRect().top+(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)},left:function(e){return e.getBoundingClientRect().left+(document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft)},aboveTheTop:function(e){return e.getBoundingClientRect().bottom<=0},belowTheFold:function(e){return e.getBoundingClientRect().top>innerHeight},leftOfScreen:function(e){return e.getBoundingClientRect().right<=0},rightOfScreen:function(e){return e.getBoundingClientRect().left>innerWidth},inViewport:function(e){var t=e.getBoundingClientRect();return!(t.bottom<=0||t.top>innerHeight||t.right<=0||t.left>innerWidth)}})}.call(this),function(){"use strict";laroux.ns("laroux.dom",{docprop:function(e){return document.documentElement.classList.contains(e)},select:function(e,t){return laroux.helpers.toArray((t||document).querySelectorAll(e))},selectByClass:function(e,t){return laroux.helpers.toArray((t||document).getElementsByClassName(e))},selectByTag:function(e,t){return laroux.helpers.toArray((t||document).getElementsByTagName(e))},selectById:function(e,t){return(t||document).getElementById(e)},selectSingle:function(e,t){return(t||document).querySelector(e)},attr:function(e,t,r){if(void 0===r&&t.constructor!==Object)return e.getAttribute(t);var o=laroux.helpers.getAsArray(e);if("string"==typeof t){var a=t;t={},t[a]=r}for(var n in t)if(t.hasOwnProperty(n))for(var i=0,u=o.length;u>i;i++)null===t[n]?e.removeAttribute(n):e.setAttribute(n,t[n])},data:function(e,t,r){if(void 0===r&&t.constructor!==Object)return e.getAttribute("data-"+t);var o=laroux.helpers.getAsArray(e);if("string"==typeof t){var a=t;t={},t[a]=r}for(var n in t)if(t.hasOwnProperty(n))for(var i=0,u=o.length;u>i;i++)null===t[n]?e.removeAttribute("data-"+n):e.setAttribute("data-"+n,t[n])},eventHistory:[],setEvent:function(e,t,r){for(var o=laroux.helpers.getAsArray(e),a=0,n=o.length;n>a;a++)laroux.dom.setEventSingle(o[a],t,r)},setEventSingle:function(e,t,r){var o=function(t){r(t,e)===!1&&(t.preventDefault?t.preventDefault():event.returnValue=!1)};laroux.dom.eventHistory.push({element:e,eventname:t,fnc:r,fncWrapper:o}),e.addEventListener(t,o,!1)},unsetEvent:function(e,t,r){for(var o=laroux.helpers.getAsArray(e),a=0,n=o.length;n>a;a++)for(var i=0,u=laroux.dom.eventHistory.length;u>i;i++){var l=laroux.dom.eventHistory[i];void 0!==l&&l.element===o[a]&&(void 0===t||l.eventname===t)&&(void 0===r||l.fnc===r)&&(l.element.removeEventListener(l.eventname,l.fncWrapper,!1),delete laroux.dom.eventHistory[i])}},dispatchEvent:function(e,t,r){var o=document.createEvent("Event");for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o.initEvent(t,!0,!0),e.dispatchEvent(o)},create:function(e){var t=document.createDocumentFragment(),r=document.createElement("DIV");for(r.insertAdjacentHTML("beforeend",e);r.firstChild;)t.appendChild(r.firstChild);return r=null,t},createElement:function(e,t,r){var o=document.createElement(e);if(void 0!==t&&t.constructor===Object)for(var a in t)t.hasOwnProperty(a)&&o.setAttribute(a,t[a]);if(void 0!==r)if(r.constructor===Object)for(var n in r)r.hasOwnProperty(n)&&o.setAttribute(n,r[n]);else r.length>0&&laroux.dom.append(o,r);return o},createOption:function(e,t,r,o){var a=document.createElement("OPTION");a.setAttribute("value",t),o===!0&&a.setAttribute("checked","checked"),laroux.dom.append(a,r),e.appendChild(a)},selectByValue:function(e,t){for(var r=0,o=e.options.length;o>r;r++)if(e.options[r].getAttribute("value")==t){e.selectedIndex=r;break}},clear:function(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)},insert:function(e,t,r){e.insertAdjacentHTML(t,r)},prepend:function(e,t){e.insertAdjacentHTML("afterbegin",t)},append:function(e,t){e.insertAdjacentHTML("beforeend",t)},replace:function(e,t){laroux.dom.clear(e),e.insertAdjacentHTML("afterbegin",t)},replaceText:function(e,t){e.textContent=t},remove:function(e){e.remove()},cloneReturn:0,cloneAppend:1,cloneInsertAfter:2,cloneInsertBefore:3,clone:function(e,t,r,o){var a=e.cloneNode(!0);return void 0===r&&(r=e.parentNode),void 0===o&&(o=e),void 0!==t&&t!=laroux.dom.cloneReturn&&(t==laroux.dom.cloneAppend?r.appendChild(a):t==laroux.dom.cloneInsertAfter?r.insertBefore(a,o.nextSibling):r.insertBefore(a,o)),a}}),"undefined"!=typeof Element&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){null!==this.parentElement&&this.parentElement.removeChild(this)})}.call(this),function(){"use strict";laroux.ns("laroux.forms",{ajaxForm:function(e,t,r){laroux.dom.setEvent(e,"submit",function(){return void 0!==r&&r(),laroux.ajax.post(e.getAttribute("action"),laroux.forms.serializeFormData(e),t),!1})},isFormField:function(e){if("SELECT"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e.getAttribute("type").toUpperCase();return"FILE"===t||"CHECKBOX"===t||"RADIO"===t||"TEXT"===t||"PASSWORD"===t||"HIDDEN"===t?!0:!1}return"TEXTAREA"===e.tagName?!0:!1},getFormFieldValue:function(e){if(e.disabled===!0)return null;if("SELECT"===e.tagName)return e.options[e.selectedIndex].value;if("INPUT"===e.tagName){var t=e.getAttribute("type").toUpperCase();return"FILE"===t?e.files[0]:"CHECKBOX"===t||"RADIO"===t?e.checked?e.value:null:"TEXT"===t||"PASSWORD"===t||"HIDDEN"===t?e.value:null}return"TEXTAREA"===e.tagName?e.value:null},setFormFieldValue:function(e,t){if(e.disabled!==!0)if("SELECT"!==e.tagName){if("INPUT"!=e.tagName)return"TEXTAREA"==e.tagName?void(e.value=t):void 0;var r=e.getAttribute("type").toUpperCase();if("FILE"==r)return void(e.files[0]=t);if("CHECKBOX"==r||"RADIO"==r)return void((t===!0||t==e.value)&&(e.checked=!0));if("TEXT"==r||"PASSWORD"==r||"HIDDEN"==r)return void(e.value=t)}else for(var o in e.options)if(e.options.hasOwnProperty(o)&&e.options[o].value==t)return void(e.selectedIndex=o)},toggleFormEditing:function(e,t){var r=e.querySelectorAll("*[name]");void 0===t&&(null===e.getAttribute("data-last-enabled")?(e.setAttribute("data-last-enabled","enabled"),t=!1):(e.removeAttribute("data-last-enabled"),t=!0));for(var o=0,a=r.length;a>o;o++)if(laroux.forms.isFormField(r[o])){var n=r[o].getAttribute("data-last-disabled");t?r[o].removeAttribute(null!==n?"data-last-disabled":"disabled"):(null===n&&null!==r[o].getAttribute("disabled")&&r[o].setAttribute("data-last-disabled","disabled"),r[o].setAttribute("disabled","disabled"))}},serializeFormData:function(e){for(var t=new FormData,r=e.querySelectorAll("*[name]"),o=0,a=r.length;a>o;o++){var n=laroux.forms.getFormFieldValue(r[o]);null!==n&&t.append(r[o].getAttribute("name"),n)}return t},serialize:function(e){for(var t={},r=e.querySelectorAll("*[name]"),o=0,a=r.length;a>o;o++){var n=laroux.forms.getFormFieldValue(r[o]);null!==n&&(t[r[o].getAttribute("name")]=n)}return t},deserialize:function(e,t){for(var r=e.querySelectorAll("*[name]"),o=0,a=r.length;a>o;o++)laroux.forms.setFormFieldValue(r[o],t[r[o].getAttribute("name")])}})}.call(this),function(){"use strict";laroux.ns("laroux",{wrapper:function(e,t){var r;return r=e instanceof Array?e:e instanceof NodeList?laroux.helpers.toArray(e):e instanceof Node?[e]:laroux.dom.select(e,t),1===r.length?new laroux.wrapper.singleTemplate(r[0]):new laroux.wrapper.arrayTemplate(r)}}),laroux.wrapper.singleTemplate=function(e){this.source=e,this.isArray=!1,this.get=function(e){return 0===e||void 0===e?this.source:void 0},this.find=function(e){return laroux.wrapper(e,this.source)}},laroux.wrapper.arrayTemplate=function(e){this.source=e,this.isArray=!0,this.get=function(e){return this.source[e]}},laroux.wrapper.registerBoth=0,laroux.wrapper.registerSingle=1,laroux.wrapper.registerArray=2,laroux.wrapper.register=function(e,t,r){var o=function(){var e=t.apply(this,[this.source].concat(laroux.helpers.toArray(arguments)));return void 0===e?this:e};switch(r){case laroux.wrapper.registerSingle:laroux.wrapper.singleTemplate.prototype[e]=o;break;case laroux.wrapper.registerArray:laroux.wrapper.arrayTemplate.prototype[e]=o;break;default:laroux.wrapper.singleTemplate.prototype[e]=o,laroux.wrapper.arrayTemplate.prototype[e]=o}},laroux.wrapper.register("attr",laroux.dom.attr,laroux.wrapper.registerSingle),laroux.wrapper.register("data",laroux.dom.data,laroux.wrapper.registerSingle),laroux.wrapper.register("on",laroux.dom.setEventSingle,laroux.wrapper.registerSingle),laroux.wrapper.register("on",laroux.dom.setEvent,laroux.wrapper.registerArray),laroux.wrapper.register("off",laroux.dom.unsetEvent,laroux.wrapper.registerBoth),laroux.wrapper.register("clear",laroux.dom.clear,laroux.wrapper.registerSingle),laroux.wrapper.register("insert",laroux.dom.insert,laroux.wrapper.registerSingle),laroux.wrapper.register("prepend",laroux.dom.prepend,laroux.wrapper.registerSingle),laroux.wrapper.register("append",laroux.dom.append,laroux.wrapper.registerSingle),laroux.wrapper.register("replace",laroux.dom.replace,laroux.wrapper.registerSingle),laroux.wrapper.register("replaceText",laroux.dom.replaceText,laroux.wrapper.registerSingle),laroux.wrapper.register("remove",laroux.dom.remove,laroux.wrapper.registerSingle),laroux.wrapper.register("hasClass",laroux.css.hasClass,laroux.wrapper.registerSingle),laroux.wrapper.register("addClass",laroux.css.addClass,laroux.wrapper.registerBoth),laroux.wrapper.register("removeClass",laroux.css.removeClass,laroux.wrapper.registerBoth),laroux.wrapper.register("toggleClass",laroux.css.toggleClass,laroux.wrapper.registerBoth),laroux.wrapper.register("getProperty",laroux.css.getProperty,laroux.wrapper.registerSingle),laroux.wrapper.register("setProperty",laroux.css.setProperty,laroux.wrapper.registerBoth),laroux.wrapper.register("setTransition",laroux.css.setTransition,laroux.wrapper.registerBoth),laroux.wrapper.register("show",laroux.css.show,laroux.wrapper.registerBoth),laroux.wrapper.register("hide",laroux.css.hide,laroux.wrapper.registerBoth),laroux.wrapper.register("height",laroux.css.height,laroux.wrapper.registerSingle),laroux.wrapper.register("innerHeight",laroux.css.innerHeight,laroux.wrapper.registerSingle),laroux.wrapper.register("outerHeight",laroux.css.outerHeight,laroux.wrapper.registerSingle),laroux.wrapper.register("width",laroux.css.width,laroux.wrapper.registerSingle),laroux.wrapper.register("innerWidth",laroux.css.innerWidth,laroux.wrapper.registerSingle),laroux.wrapper.register("outerWidth",laroux.css.outerWidth,laroux.wrapper.registerSingle),laroux.wrapper.register("top",laroux.css.top,laroux.wrapper.registerSingle),laroux.wrapper.register("left",laroux.css.left,laroux.wrapper.registerSingle),laroux.wrapper.register("aboveTheTop",laroux.css.aboveTheTop,laroux.wrapper.registerSingle),laroux.wrapper.register("belowTheFold",laroux.css.belowTheFold,laroux.wrapper.registerSingle),laroux.wrapper.register("leftOfScreen",laroux.css.leftOfScreen,laroux.wrapper.registerSingle),laroux.wrapper.register("rightOfScreen",laroux.css.rightOfScreen,laroux.wrapper.registerSingle),laroux.wrapper.register("inViewport",laroux.css.inViewport,laroux.wrapper.registerSingle)
}.call(this),function(){"use strict";laroux.ns("laroux.anim",{data:[],fx:{interpolate:function(e,t,r){return e+(t-e)*r},easing:function(e){return-Math.cos(e*Math.PI)/2+.5}},set:function(e){e.startTime=null,(void 0===e.unit||null===e.unit)&&(e.unit=""),(void 0===e.from||null===e.from)&&(e.from=e.object===document.body&&"scrollTop"===e.property?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:e.object[e.property]),"string"==typeof e.from&&(e.from=Number(e.from)),(void 0===e.reset||null===e.reset)&&(e.reset=!1),laroux.anim.data.push(e),1===laroux.anim.data.length&&requestAnimationFrame(laroux.anim.onframe)},setCss:function(e){(void 0===e.from||null===e.from)&&(e.from=laroux.css.getProperty(e.object,e.property)),e.object=e.object.style,e.property=laroux.helpers.camelCase(e.property),laroux.anim.set(e)},remove:function(e){var t=null;for(var r in laroux.anim.data)if(laroux.anim.data.hasOwnProperty(r)){var o=laroux.anim.data[r];if(void 0!==o.id&&o.id==e){t=r;break}}return null!==t?(laroux.anim.data.splice(t,1),!0):!1},onframe:function(e){var t=[];for(var r in laroux.anim.data)if(laroux.anim.data.hasOwnProperty(r)){var o=laroux.anim.data[r];null===o.startTime&&(o.startTime=e);var a=laroux.anim.step(o,e);a===!1?t.unshift(r):e>o.startTime+o.time&&(o.reset?(o.startTime=e,newanim.object===document.body&&"scrollTop"==newanim.property?scrollTo(0,o.from):o.object[o.property]=o.from):t.unshift(r))}for(var n in t)t.hasOwnProperty(n)&&laroux.anim.data.splice(t[n],1);laroux.anim.data.length>0&&requestAnimationFrame(laroux.anim.onframe)},step:function(e,t){var r=e.startTime+e.time,o=t>r?1:(t-e.startTime)/e.time,a=laroux.anim.fx.interpolate(e.from,e.to,laroux.anim.fx.easing(o))+e.unit;e.object===document.body&&"scrollTop"==e.property?scrollTo(0,a):e.object[e.property]=a}})}.call(this),function(){"use strict";laroux.ns("laroux.keys",{keyName:function(e){switch(e=e.toLowerCase()){case"backspace":return 8;case"tab":return 9;case"enter":case"return":return 13;case"esc":case"escape":return 27;case"space":return 32;case"pgup":return 33;case"pgdn":return 34;case"end":return 35;case"home":return 36;case"left":return 37;case"up":return 38;case"right":return 39;case"down":return 40;case"insert":return 45;case"delete":return 46;case"f1":return 112;case"f2":return 113;case"f3":return 114;case"f4":return 115;case"f5":return 116;case"f6":return 117;case"f7":return 118;case"f8":return 119;case"f9":return 120;case"f10":return 121;case"f11":return 122;case"f12":return 123;case",":return 188;case".":return 190}return String.fromCharCode(e)},assign:function(e){var t=function(t){t||(t=event);var r=t.target||t.srcElement;if((3===r.nodeType||11===r.nodeType)&&(r=r.parentNode),!(e.disableInputs&&laroux.forms.isFormField(r)||e.shift&&!t.shiftKey||e.ctrl&&!t.ctrlKey||e.alt&&!t.altKey)){var o=laroux.keys.keyName(e.key);if(o===(t.keyCode||t.which))return e.fnc(t),!1}};laroux.dom.setEvent(e.target||document,"keydown",t)}})}.call(this),function(){"use strict";laroux.ns("laroux.mvc",{apps:{},pauseUpdate:!1,init:function(e,t){e.constructor===String&&(e=laroux.dom.selectById(e));var r=e.getAttribute("id");t.onupdate=function(){laroux.mvc.pauseUpdate||laroux.mvc.update(r)},laroux.mvc.apps[r]={element:e,model:t},laroux.mvc.rebind(r)},rebind:function(e){var t=laroux.mvc.apps[e];t.modelKeys=laroux.helpers.getKeysRecursive(t.model._data),t.boundElements={},t.eventElements=[],laroux.mvc.scanElements(t,t.element),laroux.mvc.update(e);for(var r=function(e,r){var o=laroux.mvc.bindStringParser(r.getAttribute("lr-event"));for(var a in o)null!==a&&o.hasOwnProperty(a)&&("'"==o[a].charAt(0)?t.model[a]=o[a].substring(1,o[a].length-1):"attr."==o[a].substring(0,5)?t.model[a]=r.getAttribute(o[a].substring(5)):"prop."==o[a].substring(0,5)&&(t.model[a]=r[o[a].substring(5)]))},o=0,a=t.eventElements.length;a>o;o++)laroux.dom.setEvent(t.eventElements[o].element,t.eventElements[o].binding[null],r)},scanElements:function(e,t){for(var r=0,o=t.attributes,a=o.length;a>r;r++)if("lr-bind"==o[r].name){var n=laroux.mvc.bindStringParser(o[r].value);for(var i in n)n.hasOwnProperty(i)&&(void 0===e.boundElements[n[i]]&&(e.boundElements[n[i]]=[]),e.boundElements[n[i]].push({element:t,target:i}))}else if("lr-event"==o[r].name){var u=laroux.mvc.bindStringParser(o[r].value);e.eventElements.push({element:t,binding:u})}for(var l=0,s=t.childNodes,c=s.length;c>l;l++)1===s[l].nodeType&&laroux.mvc.scanElements(e,s[l])},update:function(e,t){var r=laroux.mvc.apps[e];"undefined"==typeof t&&(t=r.modelKeys);for(var o=0,a=t.length;a>o;o++)if(t[o]in r.boundElements)for(var n=r.boundElements[t[o]],i=0,u=n.length;u>i;i++)"style."==n[i].target.substring(0,6)?n[i].element.style[n[i].target.substring(6)]=laroux.helpers.getElement(r.model,t[o]):"attr."==n[i].target.substring(0,5)?n[i].element.setAttribute(n[i].target.substring(5),laroux.helpers.getElement(r.model,t[o])):"prop."==n[i].target.substring(0,5)&&(n[i].element[n[i].target.substring(5)]=laroux.helpers.getElement(r.model,t[o]))},bindStringParser:function(e){for(var t=null,r="",o=0,a={},n=0,i=e.length;i>n;n++){var u=e.charAt(n);0!==o||":"!=u?","!=u?r+=u:(o=0,a[t]=r.trim(),r=""):(o=1,t=r.trim(),r="")}return r.length>0&&(a[t]=r.trim()),a}})}.call(this),function(){"use strict";laroux.ns("laroux.templates",{engines:{plain:{compile:function(e,t){return[e,t]},render:function(e,t){for(var r,o=e[0],a=[],n=0;-1!==(r=o.indexOf("{{",n));){r+=2;var i=o.indexOf("}}",r);if(-1===i)break;var u=o.substring(r,i);a["{{"+u+"}}"]=laroux.helpers.getElement(t,u,""),n=i+2}return laroux.helpers.replaceAll(o,a)}},hogan:{compile:function(e,t){return Hogan.compile(e,t)},render:function(e,t){return e.render(t)}},mustache:{compile:function(e,t){return Mustache.compile(e,t)},render:function(e,t){return e(t)}},handlebars:{compile:function(e,t){return Handlebars.compile(e,t)},render:function(e,t){return e(t)}},lodash:{compile:function(e,t){return _.compile(e,null,t)},render:function(e,t){return e(t)}},underscore:{compile:function(e,t){return _.compile(e,null,t)},render:function(e,t){return e(t)}}},engine:"plain",apply:function(e,t,r){var o,a=laroux.templates.engines[laroux.templates.engine];o=1===e.nodeType||3===e.nodeType||11===e.nodeType?e.textContent:e.nodeValue;var n=a.compile(o,r);return a.render(n,t)},insert:function(e,t,r,o,a){var n=laroux.templates.apply(e,t,a);laroux.dom.insert(r,o||"beforeend",n)},replace:function(e,t,r,o){var a=laroux.templates.apply(e,t,o);laroux.dom.replace(r,a)}})}.call(this),function(){"use strict";laroux.ns("laroux.touch",{touchStarted:null,swipeTreshold:80,precision:30,tapCount:0,tapTreshold:200,longTapTreshold:800,tapTimer:null,pos:null,cached:null,events:{start:["touchstart","pointerdown","MSPointerDown","mousedown"],end:["touchend","pointerup","MSPointerUp","mouseup"],move:["touchmove","pointermove","MSPointerMove","mousemove"]},locatePointer:function(e){e.targetTouches&&(e=e.targetTouches[0]),laroux.touch.pos=[e.pageX,e.pageY]},init:function(){for(var e=[0,navigator.msPointerEnabled?2:1,3],t=0,r=e.length;r>t;t++)laroux.dom.setEventSingle(document,laroux.touch.events.start[e[t]],laroux.touch.onstart),laroux.dom.setEventSingle(document,laroux.touch.events.end[e[t]],laroux.touch.onend),laroux.dom.setEventSingle(document,laroux.touch.events.move[e[t]],laroux.touch.locatePointer)},onstart:function(e){laroux.touch.locatePointer(e),laroux.touch.cached=[laroux.touch.pos[0],laroux.touch.pos[1]],laroux.touch.touchStarted=Date.now(),laroux.touch.tapCount++;var t=function(){return laroux.touch.cached[0]>=laroux.touch.pos[0]-laroux.touch.precision&&laroux.touch.cached[0]<=laroux.touch.pos[0]+laroux.touch.precision&&laroux.touch.cached[1]>=laroux.touch.pos[1]-laroux.touch.precision&&laroux.touch.cached[1]<=laroux.touch.pos[1]+laroux.touch.precision?null===laroux.touch.touchStarted?(laroux.dom.dispatchEvent(e.target,2===laroux.touch.tapCount?"dbltap":"tap",{innerEvent:e,x:laroux.touch.pos[0],y:laroux.touch.pos[1]}),void(laroux.touch.tapCount=0)):Date.now()-laroux.touch.touchStarted>laroux.touch.longTapTreshold?(laroux.dom.dispatchEvent(e.target,"longtap",{innerEvent:e,x:laroux.touch.pos[0],y:laroux.touch.pos[1]}),laroux.touch.touchStarted=null,void(laroux.touch.tapCount=0)):void(laroux.touch.tapTimer=setTimeout(t,laroux.touch.tapTreshold)):void(laroux.touch.tapCount=0)};clearTimeout(laroux.touch.tapTimer),laroux.touch.tapTimer=setTimeout(t,laroux.touch.tapTreshold)},onend:function(e){var t=[laroux.touch.pos[0]-laroux.touch.cached[0],laroux.touch.pos[1]-laroux.touch.cached[1]],r={innerEvent:e,x:laroux.touch.pos[0],y:laroux.touch.pos[1],distance:{x:Math.abs(t[0]),y:Math.abs(t[1])}};laroux.touch.touchStarted=null,t[0]<=-laroux.touch.swipeTreshold&&laroux.dom.dispatchEvent(e.target,"swiperight",r),t[0]>=laroux.touch.swipeTreshold&&laroux.dom.dispatchEvent(e.target,"swipeleft",r),t[1]<=-laroux.touch.swipeTreshold&&laroux.dom.dispatchEvent(e.target,"swipedown",r),t[1]>=laroux.touch.swipeTreshold&&laroux.dom.dispatchEvent(e.target,"swipeup",r)}})}.call(this),function(){"use strict";laroux.ns("laroux.ui",{floatContainer:null,popup:{defaultTimeout:500,createBox:function(e,t,r){return laroux.dom.createElement("DIV",{id:e,"class":t},r)},msgbox:function(e,t){var r=laroux.helpers.getUniqueId(),o=laroux.ui.popup.createBox(r,"larouxMsgBox",t);laroux.ui.floatContainer.appendChild(o),laroux.css.setProperty(o,{opacity:1}),laroux.timers.set({timeout:e,reset:!1,ontick:function(e){laroux.dom.remove(e)},state:o})}},loading:{elementSelector:null,element:null,defaultDelay:1500,timer:null,killTimer:function(){clearTimeout(laroux.ui.loading.timer)},hide:function(){laroux.ui.loading.killTimer(),laroux.css.setProperty(laroux.ui.loading.element,{display:"none"}),localStorage.loadingIndicator="false"},show:function(e){laroux.ui.loading.killTimer(),void 0===e&&(e=laroux.ui.loading.defaultDelay),e>0?setTimeout(function(){laroux.ui.loading.show(0)},e):(laroux.css.setProperty(laroux.ui.loading.element,{display:"block"}),localStorage.loadingIndicator="true")},init:function(){null===laroux.ui.loading.element&&null!==laroux.ui.loading.elementSelector&&(laroux.ui.loading.element=laroux.dom.selectSingle(laroux.ui.loading.elementSelector)),null!==laroux.ui.loading.element&&(laroux.dom.setEvent(window,"load",laroux.ui.loading.hide),laroux.dom.setEvent(window,"beforeunload",laroux.ui.loading.show),void 0!==localStorage.loadingIndicator&&"true"===localStorage.loadingIndicator?laroux.ui.loading.show(0):laroux.ui.loading.show())}},dynamicDates:{updateDatesElements:null,updateDates:function(){null===laroux.ui.dynamicDates.updateDatesElements&&(laroux.ui.dynamicDates.updateDatesElements=laroux.dom.select("*[data-epoch]"));for(var e in laroux.ui.dynamicDates.updateDatesElements)if(laroux.ui.dynamicDates.updateDatesElements.hasOwnProperty(e)){var t=laroux.ui.dynamicDates.updateDatesElements[e],r=new Date(1e3*(t.getAttribute("data-epoch")>>0));laroux.dom.replace(t,laroux.date.getDateString(r)),t.setAttribute("title",laroux.date.getLongDateString(r))}},init:function(){laroux.timers.set({timeout:500,reset:!0,ontick:laroux.ui.dynamicDates.updateDates})}},scrollView:{selectedElements:[],onhidden:function(e){laroux.css.setProperty(e,{opacity:0}),laroux.css.setTransition(e,["opacity"])},onreveal:function(e){laroux.css.setProperty(e,{opacity:1})},set:function(e){for(var t=laroux.helpers.getAsArray(e),r=0,o=t.length;o>r;r++)laroux.css.inViewport(t[r])||laroux.ui.scrollView.selectedElements.push(t[r]);laroux.ui.scrollView.onhidden(laroux.ui.scrollView.selectedElements),laroux.dom.setEvent(window,"scroll",laroux.ui.scrollView.reveal)},reveal:function(){var e=[],t=[];laroux.helpers.each(laroux.ui.scrollView.selectedElements,function(r,o){laroux.css.inViewport(o)&&(e.unshift(r),t.push(o))});for(var r in e)e.hasOwnProperty(r)&&laroux.ui.scrollView.selectedElements.splice(e[r],1);0===laroux.ui.scrollView.selectedElements.length&&laroux.dom.unsetEvent(window,"scroll",laroux.ui.scrollView.reveal),t.length>0&&laroux.ui.scrollView.onreveal(t)}},createFloatContainer:function(){laroux.ui.floatContainer||(laroux.ui.floatContainer=laroux.dom.createElement("DIV",{"class":"larouxFloatDiv"}),document.body.insertBefore(laroux.ui.floatContainer,document.body.firstChild))},init:function(){laroux.ui.createFloatContainer(),laroux.ui.loading.init(),laroux.ui.dynamicDates.init()}})}.call(this),function(){"use strict";laroux.ns("laroux",{cached:{single:{},array:{},id:{}},c:function(e){return e instanceof Array?laroux.cached.array[e]||(laroux.cached.array[e]=laroux.helpers.toArray(document.querySelectorAll(e))):laroux.cached.single[e]||(laroux.cached.single[e]=document.querySelector(e))},id:function(e,t){return(t||document).getElementById(e)},idc:function(e){return laroux.cached.id[e]||(laroux.cached.id[e]=document.getElementById(e))},readyPassed:!1,ready:function(e){return laroux.readyPassed?void e():void laroux.events.add("ContentLoaded",e)}}),document.addEventListener("DOMContentLoaded",function(){laroux.readyPassed||(laroux.events.invoke("ContentLoaded"),setInterval(laroux.timers.ontick,100),laroux.touch.init(),laroux.readyPassed=!0)})}.call(this);
//# sourceMappingURL=../../../build/dist/web/laroux.min.js.map