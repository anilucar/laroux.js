{"version":3,"sources":["laroux.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","_interopRequireDefault","obj","__esModule","default","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","__proto__","_classCallCheck","instance","Constructor","defineProperty","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","_larouxHelpersJs","_larouxHelpersJs2","_larouxPromiseObjectJs","_larouxPromiseObjectJs2","fetchPolyfill","request","init","RequestPolyfill","resolve","reject","xhr","XMLHttpRequest","onload","status","options","statusText","headers","HeadersPolyfill","allHeaders","getAllResponseHeaders","pairs","trim","split","forEach","header","shift","join","append","url","responseURL","has","ResponsePolyfill","response","responseText","onerror","open","method","credentials","withCredentials","responseType","name","setRequestHeader","send","content","this","map","_delete","getOwnPropertyNames","String","toString","test","toLowerCase","normalizeName","push","normalizeValue","values","callback","context","Body","bodyUsed","rejected","consumed","Blob","FormData","blob","then","readBlobAsText","text","decode","JSON","parse","reader","FileReader","readAsArrayBuffer","fileReaderReady","readAsText","result","error","_Body","mode","referrer","body","_Body2","type","ok","fetchExist","ajax","fetch","bindContext","Headers","Request","Response","self","window","./laroux.helpers.js","./laroux.promiseObject.js",2,"_larouxCssJs","_larouxCssJs2","anim","data","fx","interpolate","source","easing","pos","Math","cos","PI","set","newanim","deferred","deferredResolve","deferredReject","startTime","unit","from","document","documentElement","scrollTop","Number","requestAnimationFrame","onframe","setCss","getProperty","style","camelCase","remove","id","targetKey","item","hasOwnProperty","currentItem","splice","timestamp","removeKeys","step","time","reset","scrollTo","prependArray","item2","finishT","to","./laroux.css.js",3,"css","hasClass","element","className","classList","contains","addClass","elements","getAsArray","_length","add","removeClass","_length2","toggleClass","_length3","cycleClass","_length4","styleName","getComputedStyle","antiCamelCase","getPropertyValue","setProperty","properties","oldProperties","newStyleName","_length5","defaultTransition","setTransitionSingle","transition","transitions","currentTransitions","currentTransitionsArray","transitionProperties","indexOf","substring","found","j","localeCompare","webkitTransition","msTransition","setTransition","_length6","show","opacity","hide","height","getPropertyCSSValue","getFloatValue","primitiveType","innerHeight","clientHeight","outerHeight","includeMargin","offsetHeight","marginTop","marginBottom","margins","ceil","width","innerWidth","clientWidth","outerWidth","offsetWidth","marginLeft","marginRight","top","getBoundingClientRect","left","scrollLeft","aboveTheTop","bottom","belowTheFold","leftOfScreen","right","rightOfScreen","inViewport","rect",4,"dom","docprop","propName","select","selector","toArray","querySelectorAll","selectByClass","getElementsByClassName","selectByTag","getElementsByTagName","selectById","getElementById","selectSingle","querySelector","attr","attributes","getAttribute","oldAttributes","attributeName","removeAttribute","setAttribute","datanames","oldDatanames","dataName","eventHistory","setEvent","eventname","setEventSingle","callbackWrapper","preventDefault","event","returnValue","addEventListener","unsetEvent","i1","length1","i2","length2","removeEventListener","dispatchEvent","customEvent","createEvent","initEvent","html","frag","createDocumentFragment","temp","createElement","insertAdjacentHTML","firstChild","appendChild","children","elem","createOption","isDefault","option","selectByValue","selectedIndex","clear","hasChildNodes","removeChild","insert","position","prepend","replace","replaceText","textContent","cloneReturn","cloneAppend","cloneInsertAfter","cloneInsertBefore","clone","container","newElement","cloneNode","parentNode","insertBefore","nextSibling","loadScript","async","readyState","onreadystatechange","src","head","Element","parentElement",5,"events","delegates","invoke","_events$delegates$i","_len","arguments","args","Array","_key","apply",6,"_larouxAjaxJs","_larouxAjaxJs2","_larouxDomJs","_larouxDomJs2","_larouxValidationJs","_larouxValidationJs2","forms","ajaxForm","formobj","callbackBegin","promise","serializeFormData","isFormField","tagName","toUpperCase","getFormFieldValue","disabled","files","checked","setFormFieldValue","toggleFormEditing","selection","selected","lastDisabled","formdata","serialize","deserialize","validate","rules","fields","./laroux.ajax.js","./laroux.dom.js","./laroux.validation.js",7,"helpers","uniqueId","getUniqueId","bind","setImmediate","setTimeout","stringify","merge","keys","concat","mergeNs","path","ptr","pathSlices","current","buildQueryString","rfc3986","uri","regEx","_name","encodeURIComponent","substr","buildFormData","_name2","format","replaceAll","dictionary","re","RegExp","match","flag","output","currChar","charAt","quoteAttr","spliceString","index","count","slice","assign","random","min","max","floor","find","iterator","some","list","each","arr","testOwnProperties","dontSkipReturns","results","aeach","amap","aindex","start","column","shuffle","shuffled","rand","items","removeFromArray","NodeList","_length7","getLength","getKeysRecursive","delimiter","prefix","getElement","defaultValue","rest","callAll","callbacks","scope","parameters","_length8","executeScript","script","eval",8,"intl","shortDateFormat","longDateFormat","timeFormat","monthsShort","monthsLong","strings","now","later","ago","seconds","aminute","minutes","ahour","hours","aday","days","aweek","weeks","amonth","months","ayear","years","parseEpoch","timespan","limitWithWeeks","customDate","Date","getFullYear","getYear","getMonth","getDate","hour1","getHours","hour2","getMinutes","getSeconds","dateDiff","getTime","absTimespan","abs","past","timespanstring","shortDate","includeTime","longDate","message","x","translations","addTranslations","culture","translate",9,"_larouxEventsJs","_larouxEventsJs2","_larouxIntlJs","_larouxIntlJs2","_larouxRequireJs","_larouxRequireJs2","_larouxStoryboardJs","_larouxStoryboardJs2","_larouxTypesJs","_larouxTypesJs2","_larouxTemplatesJs","_larouxTemplatesJs2","_larouxTimersJs","_larouxTimersJs2","_larouxVarsJs","_larouxVarsJs2","laroux","storyboard","types","templates","timers","validation","vars","extend","extendNs","readyPassed","ready","setReady","setInterval","ontick","$l","./laroux.events.js","./laroux.intl.js","./laroux.require.js","./laroux.storyboard.js","./laroux.templates.js","./laroux.timers.js","./laroux.types.js","./laroux.vars.js",10,"_larouxFormsJs","_larouxFormsJs2","keyName","keycode","fromCharCode","wrapper","ev","srcElement","nodeType","disableInputs","shiftKey","ctrl","ctrlKey","alt","altKey","keyCode","which","./laroux.forms.js",11,"PromisePolyfill","state","deferreds","_catch","doResolve","onFulfilled","onRejected","done","reason","err","newValue","finale","handle","remaining","res","promiseExist","Promise",12,"require_","requirements","dependencies","requirement","modules","all",13,"_larouxJs","_larouxJs2","routes","attached","regexConverter","sensitive","strict","regexString","_","slash","capture","optional","regex","addNamed","converted","params","route","exec","decodeURIComponent","resolved","getNamed","link","previous","go","silent","detach","location","hash","attach","goNamed","reload","./laroux.js",14,"Storyboard","phases","phaseKeys","currentIteration","running","addPhase","checkPromise","promises","phase","addPromise","phaseId","currentPhase","fnc",15,"engines","plain","compile","template","render","compiled","model","dict","lastIndex","nextIndex","closeIndex","hogan","Hogan","mustache","Mustache","handlebars","Handlebars","lodash","underscore","engine","nodeValue",16,"timer","next","timeout",17,"touch","touchStarted","swipeTreshold","precision","tapCount","tapTreshold","longTapTreshold","tapTimer","cached","end","move","locatePointer","targetTouches","pageX","pageY","navigator","msPointerEnabled","onstart","onend","innerEvent","y","clearTimeout","delta","distance",18,"staticKeys","Observable","_callbacks","_onupdate","changes","observe","setRange","valueKey","unobserve","observable",19,"required","rule","minlength","maxlength","floatValue","parseFloat","rulesKeys","success","details","fieldRules","fieldRule","fieldRuleSplitted","fieldRuleName",20,"storages","cookie","defaultPath","expires","expireValue","toGMTString","local","localStorage","session","sessionStorage","storage","_len2","_key2","_len3","_key3",21,"_larouxAnimJs","_larouxAnimJs2","_larouxKeysJs","_larouxKeysJs2","_larouxRoutesJs","_larouxRoutesJs2","_larouxTouchJs","_larouxTouchJs2","single","array","c","idc","./laroux.anim.js","./laroux.keys.js","./laroux.routes.js","./laroux.touch.js"],"mappings":"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","file":"build/dist/web/laroux.min.js","sourcesContent":["/**\n * laroux.js - A jquery substitute for modern browsers (web bundle)\n *\n * @version v2.2.0\n * @link https://larukedi.github.io/laroux.js\n * @license Apache-2.0\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n/*global fetch, Headers, Request, Response, Blob, FormData, FileReader, XMLHttpRequest */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar _larouxPromiseObjectJs = require('./laroux.promiseObject.js');\n\nvar _larouxPromiseObjectJs2 = _interopRequireDefault(_larouxPromiseObjectJs);\n\n// ajax - partially taken from 'window.fetch polyfill' project\n//        can be found at: https://github.com/github/fetch\n//        see laroux.ajax.LICENSE file for details\nvar fetchPolyfill = function fetchPolyfill(request, init) {\n    // TODO: Request constructor should accept input, init\n    if (init || request.constructor !== RequestPolyfill) {\n        request = new RequestPolyfill(request, init);\n    }\n\n    return new _larouxPromiseObjectJs2['default'](function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n\n        xhr.onload = function () {\n            var status = xhr.status === 1223 ? 204 : xhr.status;\n            if (status < 100 || status >= 600) {\n                reject(new TypeError('Network request failed'));\n                return;\n            }\n\n            var options = {\n                status: status,\n                statusText: xhr.statusText,\n                headers: new HeadersPolyfill()\n            },\n                allHeaders = xhr.getAllResponseHeaders(),\n                pairs = allHeaders.trim().split('\\n');\n\n            pairs.forEach(function (header) {\n                var split = header.trim().split(':'),\n                    key = split.shift().trim(),\n                    value = split.join(':').trim();\n\n                options.headers.append(key, value);\n            });\n\n            if ('responseURL' in xhr) {\n                options.url = xhr.responseURL;\n            } else if (options.headers.has('X-Request-URL')) {\n                // Avoid security warnings on getResponseHeader when not allowed by CORS\n                options.url = options.headers.get('X-Request-URL');\n            } else {\n                options.url = null;\n            }\n\n            resolve(new ResponsePolyfill(xhr.response || xhr.responseText, options));\n        };\n\n        xhr.onerror = function () {\n            reject(new TypeError('Network request failed'));\n        };\n\n        xhr.open(request.method, request.url, true);\n\n        if (request.credentials === 'include') {\n            xhr.withCredentials = true;\n        }\n\n        if ('Blob' in global && 'responseType' in xhr) {\n            xhr.responseType = 'blob';\n        }\n\n        request.headers.forEach(function (value, name) {\n            xhr.setRequestHeader(name, value);\n        });\n\n        xhr.send(request.content);\n    });\n};\n\nvar HeadersPolyfill = (function () {\n    function HeadersPolyfill(headers) {\n        _classCallCheck(this, HeadersPolyfill);\n\n        this.map = {};\n\n        this['delete'] = this._delete;\n\n        if (headers !== undefined) {\n            if (headers.constructor === HeadersPolyfill) {\n                headers.forEach(function (value, name) {\n                    this.append(name, value);\n                }, this);\n\n                return;\n            }\n\n            Object.getOwnPropertyNames(headers).forEach(function (name) {\n                this.append(name, headers[name]);\n            }, this);\n        }\n    }\n\n    _createClass(HeadersPolyfill, [{\n        key: 'normalizeName',\n        value: function normalizeName(name) {\n            if (name.constructor !== String) {\n                name = name.toString();\n            }\n\n            if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n                throw new TypeError('Invalid character in header field name');\n            }\n\n            return name.toLowerCase();\n        }\n    }, {\n        key: 'normalizeValue',\n        value: function normalizeValue(value) {\n            if (value.constructor !== String) {\n                value = value.toString();\n            }\n\n            return value.toLowerCase();\n        }\n    }, {\n        key: 'append',\n        value: function append(name, value) {\n            name = this.normalizeName(name);\n\n            if (!(name in this.map)) {\n                this.map[name] = [];\n            }\n\n            this.map[name].push(this.normalizeValue(value));\n        }\n    }, {\n        key: '_delete',\n        value: function _delete(name) {\n            delete this.map[this.normalizeName(name)];\n        }\n    }, {\n        key: 'get',\n        value: function get(name) {\n            var values = this.map[this.normalizeName(name)];\n            return values ? values[0] : null;\n        }\n    }, {\n        key: 'getAll',\n        value: function getAll(name) {\n            return this.map[this.normalizeName(name)] || [];\n        }\n    }, {\n        key: 'has',\n        value: function has(name) {\n            return this.normalizeName(name) in this.map;\n        }\n    }, {\n        key: 'set',\n        value: function set(name, value) {\n            this.map[this.normalizeName(name)] = [this.normalizeValue(value)];\n        }\n    }, {\n        key: 'forEach',\n        value: function forEach(callback, context) {\n            Object.getOwnPropertyNames(this.map).forEach(function (name) {\n                this.map[name].forEach(function (value) {\n                    callback.call(context, value, name, this);\n                }, this);\n            }, this);\n        }\n    }]);\n\n    return HeadersPolyfill;\n})();\n\nvar Body = (function () {\n    function Body() {\n        _classCallCheck(this, Body);\n\n        this.bodyUsed = false;\n    }\n\n    _createClass(Body, [{\n        key: 'blob',\n        value: function blob() {\n            var rejected = this.consumed();\n            if (rejected) {\n                return rejected;\n            }\n\n            if (this.content instanceof Blob) {\n                return _larouxPromiseObjectJs2['default'].resolve(this.content);\n            }\n\n            if (this.content instanceof FormData) {\n                throw new Error('could not read FormData body as blob');\n            }\n\n            return _larouxPromiseObjectJs2['default'].resolve(new Blob([this.content]));\n        }\n    }, {\n        key: 'arrayBuffer',\n        value: function arrayBuffer() {\n            return this.blob().then();\n        }\n    }, {\n        key: 'text',\n        value: function text() {\n            var rejected = this.consumed();\n            if (rejected) {\n                return rejected;\n            }\n\n            if (this.content instanceof Blob) {\n                return this.readBlobAsText(this.content);\n            }\n\n            if (this.content instanceof FormData) {\n                throw new Error('could not read FormData body as text');\n            }\n\n            return _larouxPromiseObjectJs2['default'].resolve(this.content);\n        }\n    }, {\n        key: 'formData',\n        value: function formData() {\n            return this.text().then(this.decode);\n        }\n    }, {\n        key: 'json',\n        value: function json() {\n            return this.text().then(JSON.parse);\n        }\n    }, {\n        key: 'consumed',\n        value: function consumed() {\n            if (this.bodyUsed) {\n                return _larouxPromiseObjectJs2['default'].reject(new TypeError('Already read'));\n            }\n\n            this.bodyUsed = true;\n        }\n    }, {\n        key: 'readBlobAsArrayBuffer',\n        value: function readBlobAsArrayBuffer(blob) {\n            var reader = new FileReader();\n            reader.readAsArrayBuffer(blob);\n\n            return this.fileReaderReady(reader);\n        }\n    }, {\n        key: 'readBlobAsText',\n        value: function readBlobAsText(blob) {\n            var reader = new FileReader();\n            reader.readAsText(blob);\n\n            return this.fileReaderReady(reader);\n        }\n    }, {\n        key: 'fileReaderReady',\n        value: function fileReaderReady(reader) {\n            return new _larouxPromiseObjectJs2['default'](function (resolve, reject) {\n                reader.onload = function () {\n                    resolve(reader.result);\n                };\n\n                reader.onerror = function () {\n                    reject(reader.error);\n                };\n            });\n        }\n    }]);\n\n    return Body;\n})();\n\nvar RequestPolyfill = (function (_Body) {\n    function RequestPolyfill(url, options) {\n        _classCallCheck(this, RequestPolyfill);\n\n        _get(Object.getPrototypeOf(RequestPolyfill.prototype), 'constructor', this).call(this);\n\n        if (options === undefined) {\n            options = {};\n        }\n\n        this.url = url;\n        this.credentials = options.credentials || 'omit';\n        this.headers = new HeadersPolyfill(options.headers);\n        this.method = options.method || 'GET';\n        this.mode = options.mode || null;\n        this.referrer = null;\n\n        if (options.body) {\n            this.content = options.body;\n        }\n    }\n\n    _inherits(RequestPolyfill, _Body);\n\n    return RequestPolyfill;\n})(Body);\n\nvar ResponsePolyfill = (function (_Body2) {\n    function ResponsePolyfill(body, options) {\n        _classCallCheck(this, ResponsePolyfill);\n\n        _get(Object.getPrototypeOf(ResponsePolyfill.prototype), 'constructor', this).call(this);\n\n        if (options === undefined) {\n            options = {};\n        }\n\n        this.type = 'default';\n        this.url = options.url || '';\n        this.status = options.status;\n        this.ok = this.status >= 200 && this.status < 300;\n        this.statusText = options.statusText;\n        this.headers = options.headers.constructor === HeadersPolyfill ? options.headers : new HeadersPolyfill(options.headers);\n\n        this.content = body;\n    }\n\n    _inherits(ResponsePolyfill, _Body2);\n\n    return ResponsePolyfill;\n})(Body);\n\nvar fetchExist = ('fetch' in global);\n\nvar ajax = {\n    fetch: fetchExist ? _larouxHelpersJs2['default'].bindContext(fetch, global) : fetchPolyfill,\n    Headers: fetchExist ? Headers : HeadersPolyfill,\n    Request: fetchExist ? Request : RequestPolyfill,\n    Response: fetchExist ? Response : ResponsePolyfill\n};\n\nexports['default'] = ajax;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.helpers.js\":7,\"./laroux.promiseObject.js\":11}],2:[function(require,module,exports){\n/*jslint node: true */\n/*global document, requestAnimationFrame, scrollTo */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxCssJs = require('./laroux.css.js');\n\nvar _larouxCssJs2 = _interopRequireDefault(_larouxCssJs);\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar _larouxPromiseObjectJs = require('./laroux.promiseObject.js');\n\nvar _larouxPromiseObjectJs2 = _interopRequireDefault(_larouxPromiseObjectJs);\n\nvar anim = {\n    data: [],\n\n    fx: {\n        interpolate: function interpolate(source, target, shift) {\n            return source + (target - source) * shift;\n        },\n\n        easing: function easing(pos) {\n            return -Math.cos(pos * Math.PI) / 2 + 0.5;\n        }\n    },\n\n    // {object, property, from, to, time, unit, reset}\n    set: function set(newanim) {\n        newanim.deferred = new _larouxPromiseObjectJs2['default'](function (resolve, reject) {\n            newanim.deferredResolve = resolve;\n            newanim.deferredReject = reject;\n        });\n\n        newanim.startTime = undefined;\n\n        if (newanim.unit === null || newanim.unit === undefined) {\n            newanim.unit = '';\n        }\n\n        if (newanim.from === null || newanim.from === undefined) {\n            if (newanim.object === document.body && newanim.property === 'scrollTop') {\n                newanim.from = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop;\n            } else {\n                newanim.from = newanim.object[newanim.property];\n            }\n        }\n\n        if (newanim.from.constructor === String) {\n            newanim.from = Number(newanim.from);\n        }\n\n        // if (newanim.id === undefined) {\n        //     newanim.id = helpers.getUniqueId();\n        // }\n\n        anim.data.push(newanim);\n        if (anim.data.length === 1) {\n            requestAnimationFrame(anim.onframe);\n        }\n\n        return newanim.deferred;\n    },\n\n    setCss: function setCss(newanim) {\n        if (newanim.from === null || newanim.from === undefined) {\n            newanim.from = _larouxCssJs2['default'].getProperty(newanim.object, newanim.property);\n        }\n\n        newanim.object = newanim.object.style;\n        newanim.property = _larouxHelpersJs2['default'].camelCase(newanim.property);\n\n        return anim.set(newanim);\n    },\n\n    remove: function remove(id) {\n        var targetKey = null;\n\n        for (var item in anim.data) {\n            if (!anim.data.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var currentItem = anim.data[item];\n\n            if (currentItem.id !== undefined && currentItem.id == id) {\n                targetKey = item;\n                break;\n            }\n        }\n\n        if (targetKey !== null) {\n            var deferred = anim.data[targetKey];\n\n            deferred.deferredReject('stop');\n\n            anim.data.splice(targetKey, 1);\n            return true;\n        }\n\n        return false;\n    },\n\n    onframe: function onframe(timestamp) {\n        var removeKeys = [];\n\n        for (var item in anim.data) {\n            if (!anim.data.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var currentItem = anim.data[item];\n            if (currentItem.startTime === undefined) {\n                currentItem.startTime = timestamp;\n            }\n\n            anim.step(currentItem, timestamp);\n\n            if (timestamp > currentItem.startTime + currentItem.time) {\n                if (currentItem.reset === true) {\n                    currentItem.startTime = timestamp;\n                    if (currentItem.object === document.body && currentItem.property === 'scrollTop') {\n                        scrollTo(0, currentItem.from);\n                        // setTimeout(function () { scrollTo(0, currentItem.from); }, 1);\n                    } else {\n                        currentItem.object[currentItem.property] = currentItem.from;\n                    }\n                } else {\n                    removeKeys = _larouxHelpersJs2['default'].prependArray(removeKeys, item);\n                    currentItem.deferredResolve();\n                }\n            }\n        }\n\n        for (var item2 in removeKeys) {\n            if (!removeKeys.hasOwnProperty(item2)) {\n                continue;\n            }\n\n            anim.data.splice(removeKeys[item2], 1);\n        }\n\n        if (anim.data.length > 0) {\n            requestAnimationFrame(anim.onframe);\n        }\n    },\n\n    step: function step(newanim, timestamp) {\n        var finishT = newanim.startTime + newanim.time,\n            shift = timestamp > finishT ? 1 : (timestamp - newanim.startTime) / newanim.time;\n\n        var value = anim.fx.interpolate(newanim.from, newanim.to, anim.fx.easing(shift)) + newanim.unit;\n\n        if (newanim.object === document.body && newanim.property === 'scrollTop') {\n            scrollTo(0, value);\n            // setTimeout(function () { scrollTo(0, value); }, 1);\n        } else {\n            newanim.object[newanim.property] = value;\n        }\n    }\n};\n\nexports['default'] = anim;\nmodule.exports = exports['default'];\n},{\"./laroux.css.js\":3,\"./laroux.helpers.js\":7,\"./laroux.promiseObject.js\":11}],3:[function(require,module,exports){\n/*jslint node: true */\n/*global getComputedStyle, document, innerHeight, innerWidth */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar css = {\n    // class features\n    hasClass: function hasClass(element, className) {\n        return element.classList.contains(className);\n    },\n\n    addClass: function addClass(element, className) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        for (var i = 0, _length = elements.length; i < _length; i++) {\n            elements[i].classList.add(className);\n        }\n    },\n\n    removeClass: function removeClass(element, className) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        for (var i = 0, _length2 = elements.length; i < _length2; i++) {\n            elements[i].classList.remove(className);\n        }\n    },\n\n    toggleClass: function toggleClass(element, className) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        for (var i = 0, _length3 = elements.length; i < _length3; i++) {\n            if (elements[i].classList.contains(className)) {\n                elements[i].classList.remove(className);\n            } else {\n                elements[i].classList.add(className);\n            }\n        }\n    },\n\n    cycleClass: function cycleClass(elements, className) {\n        for (var i = 0, _length4 = elements.length; i < _length4; i++) {\n            if (elements[i].classList.contains(className)) {\n                elements[i].classList.remove(className);\n                elements[(i + 1) % _length4].classList.add(className);\n                return;\n            }\n        }\n    },\n\n    // style features\n    getProperty: function getProperty(element, styleName) {\n        var style = getComputedStyle(element);\n\n        styleName = _larouxHelpersJs2['default'].antiCamelCase(styleName);\n\n        return style.getPropertyValue(styleName);\n    },\n\n    setProperty: function setProperty(element, properties, value) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        if (typeof properties === 'string') {\n            var oldProperties = properties;\n            properties = {};\n            properties[oldProperties] = value;\n        }\n\n        for (var styleName in properties) {\n            if (!properties.hasOwnProperty(styleName)) {\n                continue;\n            }\n\n            var newStyleName = _larouxHelpersJs2['default'].camelCase(styleName);\n\n            for (var i = 0, _length5 = elements.length; i < _length5; i++) {\n                elements[i].style[newStyleName] = properties[styleName];\n            }\n        }\n    },\n\n    // transition features\n    defaultTransition: '2s ease',\n\n    setTransitionSingle: function setTransitionSingle(element, transition) {\n        var transitions = _larouxHelpersJs2['default'].getAsArray(transition),\n            style = getComputedStyle(element),\n            currentTransitions = style.getPropertyValue('transition') || style.getPropertyValue('-webkit-transition') || style.getPropertyValue('-ms-transition') || '',\n            currentTransitionsArray = undefined;\n\n        if (currentTransitions.length > 0) {\n            currentTransitionsArray = currentTransitions.split(',');\n        } else {\n            currentTransitionsArray = [];\n        }\n\n        for (var item in transitions) {\n            if (!transitions.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var styleName = undefined,\n                transitionProperties = undefined,\n                pos = transitions[item].indexOf(' ');\n\n            if (pos !== -1) {\n                styleName = transitions[item].substring(0, pos);\n                transitionProperties = transitions[item].substring(pos + 1);\n            } else {\n                styleName = transitions[item];\n                transitionProperties = css.defaultTransition;\n            }\n\n            var found = false;\n            for (var j = 0; j < currentTransitionsArray.length; j++) {\n                if (currentTransitionsArray[j].trim().localeCompare(styleName) === 0) {\n                    currentTransitionsArray[j] = styleName + ' ' + transitionProperties;\n                    found = true;\n                    break;\n                }\n            }\n\n            if (!found) {\n                currentTransitionsArray.push(styleName + ' ' + transitionProperties);\n            }\n        }\n\n        var value = currentTransitionsArray.join(', ');\n\n        element.style.transition = value;\n        element.style.webkitTransition = value;\n        element.style.msTransition = value;\n    },\n\n    setTransition: function setTransition(element, transition) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        for (var i = 0, _length6 = elements.length; i < _length6; i++) {\n            css.setTransitionSingle(elements[i], transition);\n        }\n    },\n\n    show: function show(element, transitionProperties) {\n        if (transitionProperties !== undefined) {\n            css.setTransition(element, 'opacity ' + transitionProperties);\n        } else {\n            css.setTransition(element, 'opacity');\n        }\n\n        css.setProperty(element, { opacity: 1 });\n    },\n\n    hide: function hide(element, transitionProperties) {\n        if (transitionProperties !== undefined) {\n            css.setTransition(element, 'opacity ' + transitionProperties);\n        } else {\n            css.setTransition(element, 'opacity');\n        }\n\n        css.setProperty(element, { opacity: 0 });\n    },\n\n    // measurement features\n    // height of element without padding, margin and border\n    height: function height(element) {\n        var style = getComputedStyle(element),\n            height = style.getPropertyCSSValue('height');\n\n        return height.getFloatValue(height.primitiveType);\n    },\n\n    // height of element with padding but without margin and border\n    innerHeight: function innerHeight(element) {\n        return element.clientHeight;\n    },\n\n    // height of element with padding and border but margin optional\n    outerHeight: function outerHeight(element, includeMargin) {\n        if (includeMargin || false) {\n            return element.offsetHeight;\n        }\n\n        var style = getComputedStyle(element),\n            marginTop = style.getPropertyCSSValue('margin-top'),\n            marginBottom = style.getPropertyCSSValue('margin-bottom'),\n            margins = marginTop.getFloatValue(marginTop.primitiveType) + marginBottom.getFloatValue(marginBottom.primitiveType);\n\n        return Math.ceil(element.offsetHeight + margins);\n    },\n\n    // width of element without padding, margin and border\n    width: function width(element) {\n        var style = getComputedStyle(element),\n            height = style.getPropertyCSSValue('width');\n\n        return height.getFloatValue(height.primitiveType);\n    },\n\n    // width of element with padding but without margin and border\n    innerWidth: function innerWidth(element) {\n        return element.clientWidth;\n    },\n\n    // width of element with padding and border but margin optional\n    outerWidth: function outerWidth(element, includeMargin) {\n        if (includeMargin || false) {\n            return element.offsetWidth;\n        }\n\n        var style = getComputedStyle(element),\n            marginLeft = style.getPropertyCSSValue('margin-left'),\n            marginRight = style.getPropertyCSSValue('margin-right'),\n            margins = marginLeft.getFloatValue(marginLeft.primitiveType) + marginRight.getFloatValue(marginRight.primitiveType);\n\n        return Math.ceil(element.offsetWidth + margins);\n    },\n\n    top: function top(element) {\n        return element.getBoundingClientRect().top + (document.documentElement && document.documentElement.scrollTop || document.body.scrollTop);\n    },\n\n    left: function left(element) {\n        return element.getBoundingClientRect().left + (document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft);\n    },\n\n    aboveTheTop: function aboveTheTop(element) {\n        return element.getBoundingClientRect().bottom <= 0;\n    },\n\n    belowTheFold: function belowTheFold(element) {\n        return element.getBoundingClientRect().top > innerHeight;\n    },\n\n    leftOfScreen: function leftOfScreen(element) {\n        return element.getBoundingClientRect().right <= 0;\n    },\n\n    rightOfScreen: function rightOfScreen(element) {\n        return element.getBoundingClientRect().left > innerWidth;\n    },\n\n    inViewport: function inViewport(element) {\n        var rect = element.getBoundingClientRect();\n\n        return !(rect.bottom <= 0 || rect.top > innerHeight || rect.right <= 0 || rect.left > innerWidth);\n    }\n};\n\nexports['default'] = css;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],4:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n/*global document, event, Element */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxPromiseObjectJs = require('./laroux.promiseObject.js');\n\nvar _larouxPromiseObjectJs2 = _interopRequireDefault(_larouxPromiseObjectJs);\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar dom = {\n    docprop: function docprop(propName) {\n        return document.documentElement.classList.contains(propName);\n    },\n\n    select: function select(selector, parent) {\n        return _larouxHelpersJs2['default'].toArray((parent || document).querySelectorAll(selector));\n    },\n\n    selectByClass: function selectByClass(selector, parent) {\n        return _larouxHelpersJs2['default'].toArray((parent || document).getElementsByClassName(selector));\n    },\n\n    selectByTag: function selectByTag(selector, parent) {\n        return _larouxHelpersJs2['default'].toArray((parent || document).getElementsByTagName(selector));\n    },\n\n    selectById: function selectById(selector, parent) {\n        return (parent || document).getElementById(selector);\n    },\n\n    selectSingle: function selectSingle(selector, parent) {\n        return (parent || document).querySelector(selector);\n    },\n\n    attr: function attr(element, attributes, value) {\n        if (value === undefined && attributes.constructor !== Object) {\n            return element.getAttribute(attributes);\n        }\n\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n        if (typeof attributes === 'string') {\n            var oldAttributes = attributes;\n            attributes = {};\n            attributes[oldAttributes] = value;\n        }\n\n        for (var attributeName in attributes) {\n            if (!attributes.hasOwnProperty(attributeName)) {\n                continue;\n            }\n\n            for (var i = 0, _length = elements.length; i < _length; i++) {\n                if (attributes[attributeName] === null) {\n                    element.removeAttribute(attributeName);\n                } else {\n                    element.setAttribute(attributeName, attributes[attributeName]);\n                }\n            }\n        }\n    },\n\n    data: function data(element, datanames, value) {\n        if (value === undefined && datanames.constructor !== Object) {\n            return element.getAttribute('data-' + datanames);\n        }\n\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n        if (typeof datanames === 'string') {\n            var oldDatanames = datanames;\n            datanames = {};\n            datanames[oldDatanames] = value;\n        }\n\n        for (var dataName in datanames) {\n            if (!datanames.hasOwnProperty(dataName)) {\n                continue;\n            }\n\n            for (var i = 0, _length2 = elements.length; i < _length2; i++) {\n                if (datanames[dataName] === null) {\n                    element.removeAttribute('data-' + dataName);\n                } else {\n                    element.setAttribute('data-' + dataName, datanames[dataName]);\n                }\n            }\n        }\n    },\n\n    eventHistory: [],\n    setEvent: function setEvent(element, eventname, callback) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        for (var i = 0, _length3 = elements.length; i < _length3; i++) {\n            dom.setEventSingle(elements[i], eventname, callback);\n        }\n    },\n\n    setEventSingle: function setEventSingle(element, eventname, callback) {\n        var callbackWrapper = function callbackWrapper(e) {\n            if (callback(e, element) === false) {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n            }\n        };\n\n        dom.eventHistory.push({ element: element, eventname: eventname, callback: callback, callbackWrapper: callbackWrapper });\n        element.addEventListener(eventname, callbackWrapper, false);\n    },\n\n    unsetEvent: function unsetEvent(element, eventname, callback) {\n        var elements = _larouxHelpersJs2['default'].getAsArray(element);\n\n        for (var i1 = 0, length1 = elements.length; i1 < length1; i1++) {\n            for (var i2 = 0, length2 = dom.eventHistory.length; i2 < length2; i2++) {\n                var item = dom.eventHistory[i2];\n\n                if (item === undefined) {\n                    continue;\n                }\n\n                if (item.element !== elements[i1]) {\n                    continue;\n                }\n\n                if (eventname !== undefined && item.eventname !== eventname) {\n                    continue;\n                }\n\n                if (callback !== undefined && item.callback !== callback) {\n                    continue;\n                }\n\n                item.element.removeEventListener(item.eventname, item.callbackWrapper, false);\n                delete dom.eventHistory[i2];\n            }\n        }\n    },\n\n    dispatchEvent: function dispatchEvent(element, eventname, data) {\n        var customEvent = document.createEvent('Event');\n        for (var item in data) {\n            if (!data.hasOwnProperty(item)) {\n                continue;\n            }\n\n            customEvent[item] = data[item];\n        }\n\n        customEvent.initEvent(eventname, true, true);\n        element.dispatchEvent(customEvent);\n    },\n\n    create: function create(html) {\n        var frag = document.createDocumentFragment(),\n            temp = document.createElement('DIV');\n\n        temp.insertAdjacentHTML('beforeend', html);\n        while (temp.firstChild) {\n            frag.appendChild(temp.firstChild);\n        }\n\n        // nulling out the reference, there is no obvious dispose method\n        temp = null;\n\n        return frag;\n    },\n\n    createElement: function createElement(element, attributes, children) {\n        var elem = document.createElement(element);\n\n        if (attributes !== undefined && attributes.constructor === Object) {\n            for (var item in attributes) {\n                if (!attributes.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                elem.setAttribute(item, attributes[item]);\n            }\n        }\n\n        if (children !== undefined) {\n            if (children.constructor === Object) {\n                for (var item2 in children) {\n                    if (!children.hasOwnProperty(item2)) {\n                        continue;\n                    }\n\n                    elem.setAttribute(item2, children[item2]);\n                }\n            } else if ( /* typeof children === 'string' && */children.length > 0) {\n                dom.append(elem, children);\n            }\n        }\n\n        return elem;\n    },\n\n    createOption: function createOption(element, key, value, isDefault) {\n        /* old behaviour, does not support optgroups as parents.\n        let count = element.options.length;\n        element.options[count] = new Option(value, key);\n         if (isDefault === true) {\n            element.options.selectedIndex = count - 1;\n        }\n        */\n\n        var option = document.createElement('OPTION');\n        option.setAttribute('value', key);\n        if (isDefault === true) {\n            option.setAttribute('checked', 'checked');\n        }\n\n        dom.append(option, value);\n        element.appendChild(option);\n    },\n\n    selectByValue: function selectByValue(element, value) {\n        for (var i = 0, _length4 = element.options.length; i < _length4; i++) {\n            if (element.options[i].getAttribute('value') == value) {\n                element.selectedIndex = i;\n                break;\n            }\n        }\n    }, /*,\n       // TODO: it's redundant for now\n       loadImage: function () {\n         let images = [];\n          for (let i = 0, length = arguments.length; i < length; i++) {\n             let image = document.createElement('IMG');\n             image.setAttribute('src', arguments[i]);\n              images.push(image);\n         }\n          return images;\n       },\n       loadAsyncStyle: function (path, triggerName, async) {\n         let elem = document.createElement('LINK');\n          elem.type = 'text/css';\n         elem.async = (async !== undefined) ? async : true;\n         elem.href = path;\n         elem.rel = 'stylesheet';\n          let loaded = false;\n         elem.onload = elem.onreadystatechange = function () {\n             if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                 return false;\n             }\n              elem.onload = elem.onreadystatechange = null;\n             loaded = true;\n             if (triggerName) {\n                 if (typeof triggerName === 'function') {\n                     triggerName();\n                 } else {\n                     triggers.ontrigger(triggerName);\n                 }\n             }\n         };\n          let head = document.getElementsByTagName('head')[0];\n         head.appendChild(elem);\n       },*/\n\n    clear: function clear(element) {\n        while (element.hasChildNodes()) {\n            element.removeChild(element.firstChild);\n        }\n    },\n\n    insert: function insert(element, position, content) {\n        element.insertAdjacentHTML(position, content);\n    },\n\n    prepend: function prepend(element, content) {\n        element.insertAdjacentHTML('afterbegin', content);\n    },\n\n    append: function append(element, content) {\n        element.insertAdjacentHTML('beforeend', content);\n    },\n\n    replace: function replace(element, content) {\n        dom.clear(element);\n        element.insertAdjacentHTML('afterbegin', content);\n    },\n\n    replaceText: function replaceText(element, content) {\n        // dom.clear(element);\n        element.textContent = content;\n    },\n\n    remove: function remove(element) {\n        element.remove();\n    },\n\n    cloneReturn: 0,\n    cloneAppend: 1,\n    cloneInsertAfter: 2,\n    cloneInsertBefore: 3,\n\n    clone: function clone(element, type, container, target) {\n        var newElement = element.cloneNode(true);\n\n        if (container === undefined) {\n            container = element.parentNode;\n        }\n        if (target === undefined) {\n            target = element;\n        }\n\n        if (type !== undefined && type != dom.cloneReturn) {\n            if (type == dom.cloneAppend) {\n                container.appendChild(newElement);\n            } else if (type == dom.cloneInsertAfter) {\n                container.insertBefore(newElement, target.nextSibling);\n            } else {\n                // type == dom.cloneInsertBefore\n                container.insertBefore(newElement, target);\n            }\n        }\n\n        return newElement;\n    },\n\n    loadScript: function loadScript(url, async) {\n        return new _larouxPromiseObjectJs2['default'](function (resolve, reject) {\n            var elem = document.createElement('script');\n\n            if (async !== undefined) {\n                elem.async = async;\n            }\n\n            if (elem.readyState !== undefined) {\n                elem.onreadystatechange = function () {\n                    if (elem.readyState in ['loaded', 'complete']) {\n                        elem.onreadystatechange = null;\n                        resolve(elem);\n                    }\n                };\n            } else {\n                elem.onload = function () {\n                    resolve(elem);\n                };\n            }\n\n            elem.src = url;\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        });\n    } /*,\n      // TODO: it's redundant for now\n      applyOperations: function (element, operations) {\n        for (let operation in operations) {\n            if (!operations.hasOwnProperty(operation)) {\n                continue;\n            }\n             for (let binding in operations[operation]) {\n                if (!operations[operation].hasOwnProperty(binding)) {\n                    continue;\n                }\n                 let value = operations[operation][binding];\n                 switch (operation) {\n                    case 'setprop':\n                        if (binding.substring(0, 1) === '_') {\n                            element.setAttribute(binding.substring(1), value);\n                            continue;\n                        }\n                         if (binding === 'content') {\n                            dom.replace(element, value);\n                            continue;\n                        }\n                        break;\n                    case 'addprop':\n                        if (binding.substring(0, 1) === '_') {\n                            element.setAttribute(binding.substring(1), element.getAttribute(binding.substring(1)) + value);\n                            continue;\n                        }\n                         if (binding === 'content') {\n                            dom.append(element, value);\n                            continue;\n                        }\n                        break;\n                    case 'removeprop':\n                        if (value.substring(0, 1) === '_') {\n                            element.removeAttribute(value.substring(1));\n                            continue;\n                        }\n                         if (value === 'content') {\n                            dom.clear(element);\n                            continue;\n                        }\n                        break;\n                    case 'addclass':\n                        css.addClass(element, value);\n                        break;\n                    case 'removeclass':\n                        css.removeClass(element, value);\n                        break;\n                    case 'addstyle':\n                        css.setProperty(element, binding, value);\n                        break;\n                    case 'removestyle':\n                        css.setProperty(element, value, 'inherit !important');\n                        break;\n                    case 'repeat':\n                        break;\n                    default:\n                        console.log(operation);\n                }\n            }\n        }\n      }*/\n};\n\n// a fix for Internet Explorer\nif ('Element' in global) {\n    if (Element.prototype.remove === undefined) {\n        Element.prototype.remove = function () {\n            if (this.parentElement !== null) {\n                this.parentElement.removeChild(this);\n            }\n        };\n    }\n}\n\nexports['default'] = dom;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.helpers.js\":7,\"./laroux.promiseObject.js\":11}],5:[function(require,module,exports){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nvar events = {\n    delegates: [],\n\n    add: function add(event, callback) {\n        events.delegates.push({ event: event, callback: callback });\n    },\n\n    invoke: function invoke(event) {\n        for (var i = 0, _length = events.delegates.length; i < _length; i++) {\n            var _events$delegates$i;\n\n            if (events.delegates[i].event != event) {\n                continue;\n            }\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            (_events$delegates$i = events.delegates[i]).callback.apply(_events$delegates$i, args);\n        }\n    }\n};\n\nexports['default'] = events;\nmodule.exports = exports['default'];\n},{}],6:[function(require,module,exports){\n/*jslint node: true */\n/*global FormData */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxAjaxJs = require('./laroux.ajax.js');\n\nvar _larouxAjaxJs2 = _interopRequireDefault(_larouxAjaxJs);\n\nvar _larouxDomJs = require('./laroux.dom.js');\n\nvar _larouxDomJs2 = _interopRequireDefault(_larouxDomJs);\n\nvar _larouxValidationJs = require('./laroux.validation.js');\n\nvar _larouxValidationJs2 = _interopRequireDefault(_larouxValidationJs);\n\nvar forms = {\n    ajaxForm: function ajaxForm(formobj, callback, callbackBegin) {\n        _larouxDomJs2['default'].setEvent(formobj, 'submit', function () {\n            if (callbackBegin !== undefined) {\n                callbackBegin();\n            }\n\n            var promise = _larouxAjaxJs2['default'].fetch(formobj.getAttribute('action'), {\n                method: 'POST',\n                body: forms.serializeFormData(formobj)\n            });\n\n            if (callback !== undefined) {\n                promise.then(callback);\n            }\n\n            return false;\n        });\n    },\n\n    isFormField: function isFormField(element) {\n        if (element.tagName === 'SELECT') {\n            return true;\n        }\n\n        if (element.tagName === 'INPUT') {\n            var type = element.getAttribute('type').toUpperCase();\n\n            if (type === 'FILE' || type === 'CHECKBOX' || type === 'RADIO' || type === 'TEXT' || type === 'PASSWORD' || type === 'HIDDEN') {\n                return true;\n            }\n\n            return false;\n        }\n\n        if (element.tagName === 'TEXTAREA') {\n            return true;\n        }\n\n        return false;\n    },\n\n    getFormFieldValue: function getFormFieldValue(element) {\n        if (element.disabled === true) {\n            return null;\n        }\n\n        if (element.tagName === 'SELECT') {\n            return element.options[element.selectedIndex].value;\n        }\n\n        if (element.tagName === 'INPUT') {\n            var type = element.getAttribute('type').toUpperCase();\n\n            if (type === 'FILE') {\n                return element.files[0];\n            }\n\n            if (type === 'CHECKBOX' || type === 'RADIO') {\n                if (element.checked) {\n                    return element.value;\n                }\n\n                return null;\n            }\n\n            if (type === 'TEXT' || type === 'PASSWORD' || type === 'HIDDEN') {\n                return element.value;\n            }\n\n            return null;\n        }\n\n        if (element.tagName === 'TEXTAREA') {\n            return element.value;\n        }\n\n        return null;\n    },\n\n    setFormFieldValue: function setFormFieldValue(element, value) {\n        if (element.disabled === true) {\n            return;\n        }\n\n        if (element.tagName === 'SELECT') {\n            for (var option in element.options) {\n                if (!element.options.hasOwnProperty(option)) {\n                    continue;\n                }\n\n                if (element.options[option].value == value) {\n                    element.selectedIndex = option;\n                    return;\n                }\n            }\n\n            return;\n        }\n\n        if (element.tagName === 'INPUT') {\n            var type = element.getAttribute('type').toUpperCase();\n\n            if (type === 'FILE') {\n                element.files[0] = value;\n                return;\n            }\n\n            if (type === 'CHECKBOX' || type === 'RADIO') {\n                if (value === true || value == element.value) {\n                    element.checked = true;\n                }\n\n                return;\n            }\n\n            if (type === 'TEXT' || type === 'PASSWORD' || type === 'HIDDEN') {\n                element.value = value;\n                return;\n            }\n\n            return;\n        }\n\n        if (element.tagName === 'TEXTAREA') {\n            element.value = value;\n            return;\n        }\n    },\n\n    toggleFormEditing: function toggleFormEditing(formobj, value) {\n        var selection = formobj.querySelectorAll('*[name]');\n\n        if (value === undefined) {\n            if (formobj.getAttribute('data-last-enabled') === null) {\n                formobj.setAttribute('data-last-enabled', 'enabled');\n                value = false;\n            } else {\n                formobj.removeAttribute('data-last-enabled');\n                value = true;\n            }\n        }\n\n        for (var selected = 0, _length = selection.length; selected < _length; selected++) {\n            if (!forms.isFormField(selection[selected])) {\n                continue;\n            }\n\n            var lastDisabled = selection[selected].getAttribute('data-last-disabled');\n            if (!value) {\n                if (lastDisabled === null) {\n                    if (selection[selected].getAttribute('disabled') !== null) {\n                        selection[selected].setAttribute('data-last-disabled', 'disabled');\n                    }\n                }\n\n                selection[selected].setAttribute('disabled', 'disabled');\n                continue;\n            }\n\n            if (lastDisabled !== null) {\n                selection[selected].removeAttribute('data-last-disabled');\n            } else {\n                selection[selected].removeAttribute('disabled');\n            }\n        }\n    },\n\n    serializeFormData: function serializeFormData(formobj) {\n        var formdata = new FormData();\n        var selection = formobj.querySelectorAll('*[name]');\n\n        for (var selected = 0, _length2 = selection.length; selected < _length2; selected++) {\n            var value = forms.getFormFieldValue(selection[selected]);\n\n            if (value !== null) {\n                formdata.append(selection[selected].getAttribute('name'), value);\n            }\n        }\n\n        return formdata;\n    },\n\n    serialize: function serialize(formobj) {\n        var values = {};\n        var selection = formobj.querySelectorAll('*[name]');\n\n        for (var selected = 0, _length3 = selection.length; selected < _length3; selected++) {\n            var value = forms.getFormFieldValue(selection[selected]);\n\n            if (value !== null) {\n                values[selection[selected].getAttribute('name')] = value;\n            }\n        }\n\n        return values;\n    },\n\n    deserialize: function deserialize(formobj, data) {\n        var selection = formobj.querySelectorAll('*[name]');\n\n        for (var selected = 0, _length4 = selection.length; selected < _length4; selected++) {\n            forms.setFormFieldValue(selection[selected], data[selection[selected].getAttribute('name')]);\n        }\n    },\n\n    validate: function validate(formobj, rules) {\n        var fields = forms.serialize(formobj);\n\n        return _larouxValidationJs2['default'].validate(fields, rules);\n    }\n};\n\nexports['default'] = forms;\nmodule.exports = exports['default'];\n},{\"./laroux.ajax.js\":1,\"./laroux.dom.js\":4,\"./laroux.validation.js\":19}],7:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n/*global FormData, NodeList */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nvar helpers = {\n    uniqueId: 0,\n\n    getUniqueId: function getUniqueId() {\n        /*jslint plusplus: true */\n        return 'uid-' + ++helpers.uniqueId;\n    },\n\n    bindContext: function bindContext(method, context) {\n        if (method.bind !== undefined) {\n            return method.bind(context);\n        }\n\n        return function () {\n            method.apply(context, arguments);\n        };\n    },\n\n    async: function async(callback) {\n        if ('setImmediate' in global) {\n            setImmediate(callback);\n            return;\n        }\n\n        setTimeout(callback, 0);\n    },\n\n    clone: function clone(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    },\n\n    merge: function merge(target, source, clone) {\n        var result = clone ? helpers.clone(target) : target,\n            keys = Object.keys(source);\n\n        for (var i = 0, _length = keys.length; i < _length; i++) {\n            var key = keys[i];\n\n            if (result[key] instanceof Array) {\n                result[key] = result[key].concat(source[key]);\n                continue;\n            }\n\n            if (result[key] instanceof Object) {\n                helpers.merge(result[key], source[key]);\n                continue;\n            }\n\n            result[key] = source[key];\n        }\n\n        return result;\n    },\n\n    mergeNs: function mergeNs(target, path, source) {\n        var ptr = target,\n            pathSlices = path.split('.'),\n            keys = Object.keys(source);\n\n        for (var i = 0, _length2 = pathSlices.length; i < _length2; i++) {\n            var current = pathSlices[i];\n\n            if (ptr[current] === undefined) {\n                ptr[current] = {};\n            }\n\n            ptr = ptr[current];\n        }\n\n        if (source !== undefined) {\n            // might be replaced w/ $l.merge method\n            helpers.merge(ptr, source);\n        }\n\n        return target;\n    },\n\n    buildQueryString: function buildQueryString(values, rfc3986) {\n        var uri = '',\n            regEx = /%20/g;\n\n        for (var _name in values) {\n            if (!values.hasOwnProperty(_name)) {\n                continue;\n            }\n\n            if (typeof values[_name] !== 'function') {\n                if (rfc3986 || false) {\n                    uri += '&' + encodeURIComponent(_name).replace(regEx, '+') + '=' + encodeURIComponent(values[_name].toString()).replace(regEx, '+');\n                } else {\n                    uri += '&' + encodeURIComponent(_name) + '=' + encodeURIComponent(values[_name].toString());\n                }\n            }\n        }\n\n        return uri.substr(1);\n    },\n\n    buildFormData: function buildFormData(values) {\n        var data = new FormData();\n\n        for (var _name2 in values) {\n            if (!values.hasOwnProperty(_name2)) {\n                continue;\n            }\n\n            if (typeof values[_name2] !== 'function') {\n                data.append(_name2, values[_name2]);\n            }\n        }\n\n        return data;\n    },\n\n    format: function format() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return Array.prototype.shift.call(args).replace(/%s/g, function () {\n            return Array.prototype.shift.call(args);\n        });\n    },\n\n    replaceAll: function replaceAll(text, dictionary) {\n        var re = new RegExp(Object.keys(dictionary).join('|'), 'g');\n\n        return text.replace(re, function (match) {\n            return dictionary[match];\n        });\n    },\n\n    camelCase: function camelCase(value) {\n        var flag = false;\n        var output = '';\n\n        for (var j = 0; j < value.length; j++) {\n            var currChar = value.charAt(j);\n            if (currChar === '-') {\n                flag = true;\n                continue;\n            }\n\n            output += !flag ? currChar : currChar.toUpperCase();\n            flag = false;\n        }\n\n        return output;\n    },\n\n    antiCamelCase: function antiCamelCase(value) {\n        var output = '';\n\n        for (var j = 0; j < value.length; j++) {\n            var currChar = value.charAt(j);\n            if (currChar !== '-' && currChar == currChar.toUpperCase()) {\n                output += '-' + currChar.toLowerCase();\n                continue;\n            }\n\n            output += currChar;\n        }\n\n        return output;\n    },\n\n    quoteAttr: function quoteAttr(value) {\n        return value.replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/\\r\\n/g, '&#13;').replace(/[\\r\\n]/g, '&#13;');\n    },\n\n    spliceString: function spliceString(value, index, count, add) {\n        return value.slice(0, index) + (add || '') + value.slice(index + count);\n    },\n\n    assign: function assign(values, keys) {\n        var result = {};\n\n        for (var i = 0, _length3 = keys.length; i < _length3; i++) {\n            result[keys[i]] = values[i];\n        }\n\n        return result;\n    },\n\n    random: function random(min, max) {\n        return min + Math.floor(Math.random() * (max - min + 1));\n    },\n\n    find: function find(obj, iterator, context) {\n        var result = undefined;\n\n        obj.some(function (value, index, list) {\n            if (iterator.call(context, value, index, list)) {\n                result = value;\n                return true;\n            }\n        });\n\n        return result;\n    },\n\n    each: function each(arr, callback, testOwnProperties) {\n        for (var item in arr) {\n            if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                continue;\n            }\n\n            if (callback(item, arr[item]) === false) {\n                break;\n            }\n        }\n\n        return arr;\n    },\n\n    map: function map(arr, callback, dontSkipReturns, testOwnProperties) {\n        var results = [];\n\n        for (var item in arr) {\n            if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var result = callback(arr[item], item);\n            if (result === false) {\n                break;\n            }\n\n            if (dontSkipReturns || result !== undefined) {\n                results.push(result);\n            }\n        }\n\n        return results;\n    },\n\n    index: function index(arr, value, testOwnProperties) {\n        for (var item in arr) {\n            if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                continue;\n            }\n\n            if (arr[item] === value) {\n                return item;\n            }\n        }\n\n        return null;\n    },\n\n    aeach: function aeach(arr, callback) {\n        for (var i = 0, _length4 = arr.length; i < _length4; i++) {\n            if (callback(i, arr[i]) === false) {\n                break;\n            }\n        }\n\n        return arr;\n    },\n\n    amap: function amap(arr, callback, dontSkipReturns) {\n        var results = [];\n\n        for (var i = 0, _length5 = arr.length; i < _length5; i++) {\n            var result = callback(arr[i], i);\n            if (result === false) {\n                break;\n            }\n\n            if (dontSkipReturns || result !== undefined) {\n                results.push(result);\n            }\n        }\n\n        return results;\n    },\n\n    aindex: function aindex(arr, value, start) {\n        for (var i = start || 0, _length6 = arr.length; i < _length6; i++) {\n            if (arr[i] === value) {\n                return i;\n            }\n        }\n\n        return -1;\n    },\n\n    column: function column(obj, key) {\n        return helpers.map(obj, function (value) {\n            return value[key];\n        }, true);\n    },\n\n    shuffle: function shuffle(obj) {\n        var index = 0,\n            shuffled = [];\n\n        for (var item in obj) {\n            if (!obj.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var rand = helpers.random(0, index);\n            shuffled[index++] = shuffled[rand];\n            shuffled[rand] = obj[item];\n        }\n\n        return shuffled;\n    },\n\n    prependArray: function prependArray(obj, value) {\n        var length = obj.length,\n            items = new Array(length + 1);\n\n        items[0] = value;\n        for (var i = 0, j = 1; i < length; i++, j++) {\n            items[j] = obj[i];\n        }\n\n        return items;\n    },\n\n    removeFromArray: function removeFromArray(obj, value) {\n        var targetKey = null;\n\n        for (var item in obj) {\n            if (!obj.hasOwnProperty(item)) {\n                continue;\n            }\n\n            if (obj[item] === value) {\n                targetKey = item;\n                break;\n            }\n        }\n\n        if (targetKey !== null) {\n            obj.splice(targetKey, 1);\n            return true;\n        }\n\n        return false;\n    },\n\n    toArray: function toArray(obj) {\n        var length = obj.length,\n            items = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n            items[i] = obj[i];\n        }\n\n        return items;\n    },\n\n    getAsArray: function getAsArray(obj) {\n        if (obj instanceof Array) {\n            return obj;\n        }\n\n        if (obj instanceof NodeList) {\n            var _length7 = obj.length;\n\n            var items = new Array(_length7);\n            for (var i = 0; i < _length7; i++) {\n                items[i] = obj[i];\n            }\n\n            return items;\n        }\n\n        return [obj];\n    },\n\n    getLength: function getLength(obj) {\n        if (obj.constructor === Object) {\n            if (obj.length !== undefined) {\n                return obj.length;\n            }\n\n            return Object.keys(obj).length;\n        }\n\n        return -1;\n    },\n\n    getKeysRecursive: function getKeysRecursive(obj, delimiter, prefix, keys) {\n        if (delimiter === undefined) {\n            delimiter = '.';\n        }\n\n        if (prefix === undefined) {\n            prefix = '';\n            keys = [];\n        }\n\n        for (var item in obj) {\n            if (!obj.hasOwnProperty(item)) {\n                continue;\n            }\n\n            keys.push(prefix + item);\n\n            if (obj[item] !== undefined && obj[item] !== null && obj[item].constructor === Object) {\n                helpers.getKeysRecursive(obj[item], delimiter, prefix + item + delimiter, keys);\n                continue;\n            }\n        }\n\n        return keys;\n    },\n\n    getElement: function getElement(obj, path, defaultValue, delimiter) {\n        if (defaultValue === undefined) {\n            defaultValue = null;\n        }\n\n        if (delimiter === undefined) {\n            delimiter = '.';\n        }\n\n        var pos = path.indexOf(delimiter);\n        var key = undefined;\n        var rest = undefined;\n        if (pos === -1) {\n            key = path;\n            rest = null;\n        } else {\n            key = path.substring(0, pos);\n            rest = path.substring(pos + 1);\n        }\n\n        if (!(key in obj)) {\n            return defaultValue;\n        }\n\n        if (rest === null || rest.length === 0) {\n            return obj[key];\n        }\n\n        return helpers.getElement(obj[key], rest, defaultValue, delimiter);\n    },\n\n    callAll: function callAll(callbacks, scope, parameters) {\n        for (var i = 0, _length8 = callbacks.length; i < _length8; i++) {\n            callbacks[i].apply(scope, parameters);\n        }\n    },\n\n    executeScript: function executeScript(script, context) {\n        /*jslint evil:true */\n        return eval('(function () { ' + script + '}).call(context || global);');\n    }\n};\n\nexports['default'] = helpers;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],8:[function(require,module,exports){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar intl = {\n    shortDateFormat: 'dd.MM.yyyy',\n    longDateFormat: 'dd MMMM yyyy',\n    timeFormat: 'HH:mm',\n\n    monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    monthsLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\n    strings: {\n        now: 'now',\n        later: 'later',\n        ago: 'ago',\n        seconds: 'seconds',\n        aminute: 'a minute',\n        minutes: 'minutes',\n        ahour: 'a hour',\n        hours: 'hours',\n        aday: 'a day',\n        days: 'days',\n        aweek: 'a week',\n        weeks: 'weeks',\n        amonth: 'a month',\n        months: 'months',\n        ayear: 'a year',\n        years: 'years'\n    },\n\n    parseEpoch: function parseEpoch(timespan, limitWithWeeks) {\n        if (timespan < 60 * 1000) {\n            timespan = Math.ceil(timespan / 1000);\n\n            return timespan + ' ' + intl.strings.seconds;\n        }\n\n        if (timespan < 60 * 60 * 1000) {\n            timespan = Math.ceil(timespan / (60 * 1000));\n\n            if (timespan === 1) {\n                return intl.strings.aminute;\n            }\n\n            return timespan + ' ' + intl.strings.minutes;\n        }\n\n        if (timespan < 24 * 60 * 60 * 1000) {\n            timespan = Math.ceil(timespan / (60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return intl.strings.ahour;\n            }\n\n            return timespan + ' ' + intl.strings.hours;\n        }\n\n        if (timespan < 7 * 24 * 60 * 60 * 1000) {\n            timespan = Math.ceil(timespan / (24 * 60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return intl.strings.aday;\n            }\n\n            return timespan + ' ' + intl.strings.days;\n        }\n\n        if (timespan < 4 * 7 * 24 * 60 * 60 * 1000) {\n            timespan = Math.ceil(timespan / (7 * 24 * 60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return intl.strings.aweek;\n            }\n\n            return timespan + ' ' + intl.strings.weeks;\n        }\n\n        if (limitWithWeeks === true) {\n            return null;\n        }\n\n        if (timespan < 30 * 7 * 24 * 60 * 60 * 1000) {\n            timespan = Math.ceil(timespan / (30 * 24 * 60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return intl.strings.amonth;\n            }\n\n            return timespan + ' ' + intl.strings.months;\n        }\n\n        timespan = Math.ceil(timespan / (365 * 24 * 60 * 60 * 1000));\n\n        if (timespan === 1) {\n            return intl.strings.ayear;\n        }\n\n        return timespan + ' ' + intl.strings.years;\n    },\n\n    customDate: function customDate(format, timestamp) {\n        var now = timestamp || new Date();\n\n        return format.replace(/yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g, function (match) {\n            switch (match) {\n                case 'yyyy':\n                    return now.getFullYear();\n\n                case 'yy':\n                    return now.getYear();\n\n                case 'MMMM':\n                    return intl.monthsLong[now.getMonth()];\n\n                case 'MMM':\n                    return intl.monthsShort[now.getMonth()];\n\n                case 'MM':\n                    return ('0' + (now.getMonth() + 1)).substr(-2, 2);\n\n                case 'M':\n                    return now.getMonth() + 1;\n\n                case 'dd':\n                    return ('0' + now.getDate()).substr(-2, 2);\n\n                case 'd':\n                    return now.getDate();\n\n                case 'hh':\n                    var hour1 = now.getHours();\n                    return ('0' + (hour1 % 12 > 0 ? hour1 % 12 : 12)).substr(-2, 2);\n\n                case 'h':\n                    var hour2 = now.getHours();\n                    return hour2 % 12 > 0 ? hour2 % 12 : 12;\n\n                case 'HH':\n                    return ('0' + now.getHours()).substr(-2, 2);\n\n                case 'H':\n                    return now.getHours();\n\n                case 'mm':\n                    return ('0' + now.getMinutes()).substr(-2, 2);\n\n                case 'm':\n                    return now.getMinutes();\n\n                case 'ss':\n                    return ('0' + now.getSeconds()).substr(-2, 2);\n\n                case 's':\n                    return now.getSeconds();\n\n                case 'tt':\n                    if (now.getHours() >= 12) {\n                        return 'pm';\n                    }\n\n                    return 'am';\n\n                case 't':\n                    if (now.getHours() >= 12) {\n                        return 'p';\n                    }\n\n                    return 'a';\n            }\n\n            return match;\n        });\n    },\n\n    dateDiff: function dateDiff(timestamp) {\n        var now = Date.now(),\n            timespan = now - timestamp.getTime(),\n            absTimespan = Math.abs(timespan),\n            past = timespan > 0;\n\n        if (absTimespan <= 3000) {\n            return intl.strings.now;\n        }\n\n        var timespanstring = intl.parseEpoch(absTimespan, true);\n        if (timespanstring !== null) {\n            return timespanstring + ' ' + (past ? intl.strings.ago : intl.strings.later);\n        }\n\n        return intl.shortDate(timestamp, true);\n    },\n\n    shortDate: function shortDate(timestamp, includeTime) {\n        return intl.customDate(includeTime ? intl.shortDateFormat + ' ' + intl.timeFormat : intl.shortDateFormat, timestamp);\n    },\n\n    longDate: function longDate(timestamp, includeTime) {\n        return intl.customDate(includeTime ? intl.longDateFormat + ' ' + intl.timeFormat : intl.longDateFormat, timestamp);\n    },\n\n    format: function format(message, dictionary) {\n        var temp = {};\n        Object.keys(dictionary).forEach(function (x) {\n            return temp['{' + x + '}'] = dictionary[x];\n        });\n\n        return _larouxHelpersJs2['default'].replaceAll(message, temp);\n    },\n\n    translations: {},\n\n    addTranslations: function addTranslations(culture, dictionary) {\n        _larouxHelpersJs2['default'].mergeNs(intl.translations, culture, dictionary);\n    },\n\n    translate: function translate(culture, message) {\n        return intl.format(message, intl.translations[culture]);\n    }\n};\n\nexports['default'] = intl;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],9:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n/*global document */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxAjaxJs = require('./laroux.ajax.js');\n\nvar _larouxAjaxJs2 = _interopRequireDefault(_larouxAjaxJs);\n\nvar _larouxEventsJs = require('./laroux.events.js');\n\nvar _larouxEventsJs2 = _interopRequireDefault(_larouxEventsJs);\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar _larouxIntlJs = require('./laroux.intl.js');\n\nvar _larouxIntlJs2 = _interopRequireDefault(_larouxIntlJs);\n\nvar _larouxPromiseObjectJs = require('./laroux.promiseObject.js');\n\nvar _larouxPromiseObjectJs2 = _interopRequireDefault(_larouxPromiseObjectJs);\n\nvar _larouxRequireJs = require('./laroux.require.js');\n\nvar _larouxRequireJs2 = _interopRequireDefault(_larouxRequireJs);\n\nvar _larouxStoryboardJs = require('./laroux.storyboard.js');\n\nvar _larouxStoryboardJs2 = _interopRequireDefault(_larouxStoryboardJs);\n\nvar _larouxTypesJs = require('./laroux.types.js');\n\nvar _larouxTypesJs2 = _interopRequireDefault(_larouxTypesJs);\n\nvar _larouxTemplatesJs = require('./laroux.templates.js');\n\nvar _larouxTemplatesJs2 = _interopRequireDefault(_larouxTemplatesJs);\n\nvar _larouxTimersJs = require('./laroux.timers.js');\n\nvar _larouxTimersJs2 = _interopRequireDefault(_larouxTimersJs);\n\nvar _larouxValidationJs = require('./laroux.validation.js');\n\nvar _larouxValidationJs2 = _interopRequireDefault(_larouxValidationJs);\n\nvar _larouxVarsJs = require('./laroux.vars.js');\n\nvar _larouxVarsJs2 = _interopRequireDefault(_larouxVarsJs);\n\nvar laroux = function laroux(selector, parent) {\n    if (selector.constructor === Array) {\n        return _larouxHelpersJs2['default'].toArray((parent || document).querySelectorAll(selector));\n    }\n\n    // FIXME: Laroux: non-chromium optimization, but it runs\n    //                slowly in chromium\n    //\n    // let re = /^#([^\\+\\>\\[\\]\\.# ]*)$/.exec(selector);\n    // if (re) {\n    //     return (parent || document).getElementById(re[1]);\n    // }\n\n    return (parent || document).querySelector(selector);\n};\n\n_larouxHelpersJs2['default'].merge(laroux, _larouxHelpersJs2['default']);\n_larouxHelpersJs2['default'].merge(laroux, {\n    ajax: _larouxAjaxJs2['default'],\n    events: _larouxEventsJs2['default'],\n    intl: _larouxIntlJs2['default'],\n    promise: _larouxPromiseObjectJs2['default'],\n    require: _larouxRequireJs2['default'],\n    storyboard: _larouxStoryboardJs2['default'],\n    types: _larouxTypesJs2['default'],\n    templates: _larouxTemplatesJs2['default'],\n    timers: _larouxTimersJs2['default'],\n    validation: _larouxValidationJs2['default'],\n    vars: _larouxVarsJs2['default'],\n\n    extend: function extend(source) {\n        return _larouxHelpersJs2['default'].merge(laroux, source);\n    },\n\n    extendNs: function extendNs(path, source) {\n        return _larouxHelpersJs2['default'].mergeNs(laroux, path, source);\n    },\n\n    readyPassed: false,\n\n    ready: function ready(callback) {\n        if (!laroux.readyPassed) {\n            _larouxEventsJs2['default'].add('ContentLoaded', callback);\n            return;\n        }\n\n        callback();\n    },\n\n    setReady: function setReady() {\n        if (!laroux.readyPassed) {\n            _larouxEventsJs2['default'].invoke('ContentLoaded');\n            setInterval(_larouxTimersJs2['default'].ontick, 100);\n            laroux.readyPassed = true;\n        }\n    }\n});\n\nif (global.$l === undefined) {\n    global.$l = laroux;\n}\n\nexports['default'] = laroux;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.ajax.js\":1,\"./laroux.events.js\":5,\"./laroux.helpers.js\":7,\"./laroux.intl.js\":8,\"./laroux.promiseObject.js\":11,\"./laroux.require.js\":12,\"./laroux.storyboard.js\":14,\"./laroux.templates.js\":15,\"./laroux.timers.js\":16,\"./laroux.types.js\":18,\"./laroux.validation.js\":19,\"./laroux.vars.js\":20}],10:[function(require,module,exports){\n/*jslint node: true */\n/*global event, document */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxDomJs = require('./laroux.dom.js');\n\nvar _larouxDomJs2 = _interopRequireDefault(_larouxDomJs);\n\nvar _larouxFormsJs = require('./laroux.forms.js');\n\nvar _larouxFormsJs2 = _interopRequireDefault(_larouxFormsJs);\n\nvar keys = {\n    keyName: function keyName(keycode) {\n        keycode = keycode.toLowerCase();\n\n        switch (keycode) {\n            case 'backspace':\n                return 8;\n\n            case 'tab':\n                return 9;\n\n            case 'enter':\n            case 'return':\n                return 13;\n\n            case 'esc':\n            case 'escape':\n                return 27;\n\n            case 'space':\n                return 32;\n\n            case 'pgup':\n                return 33;\n\n            case 'pgdn':\n                return 34;\n\n            case 'end':\n                return 35;\n\n            case 'home':\n                return 36;\n\n            case 'left':\n                return 37;\n\n            case 'up':\n                return 38;\n\n            case 'right':\n                return 39;\n\n            case 'down':\n                return 40;\n\n            case 'insert':\n                return 45;\n\n            case 'delete':\n                return 46;\n\n            case 'f1':\n                return 112;\n\n            case 'f2':\n                return 113;\n\n            case 'f3':\n                return 114;\n\n            case 'f4':\n                return 115;\n\n            case 'f5':\n                return 116;\n\n            case 'f6':\n                return 117;\n\n            case 'f7':\n                return 118;\n\n            case 'f8':\n                return 119;\n\n            case 'f9':\n                return 120;\n\n            case 'f10':\n                return 121;\n\n            case 'f11':\n                return 122;\n\n            case 'f12':\n                return 123;\n\n            case ',':\n                return 188;\n\n            case '.':\n                return 190;\n        }\n\n        return String.fromCharCode(keycode);\n    },\n\n    // {target, key, shift, ctrl, alt, disableInputs, callback}\n    assign: function assign(options) {\n        var wrapper = function wrapper(ev) {\n            if (!ev) {\n                ev = event;\n            }\n\n            var element = ev.target || ev.srcElement;\n            if (element.nodeType === 3 || element.nodeType === 11) {\n                // element.nodeType === 1 ||\n                element = element.parentNode;\n            }\n\n            if (options.disableInputs && _larouxFormsJs2['default'].isFormField(element)) {\n                return;\n            }\n\n            if (options.shift && !ev.shiftKey) {\n                return;\n            }\n\n            if (options.ctrl && !ev.ctrlKey) {\n                return;\n            }\n\n            if (options.alt && !ev.altKey) {\n                return;\n            }\n\n            var key = keys.keyName(options.key);\n            if (key !== (ev.keyCode || ev.which)) {\n                return;\n            }\n\n            options.callback(ev);\n\n            return false;\n        };\n\n        _larouxDomJs2['default'].setEvent(options.target || document, 'keydown', wrapper);\n    }\n};\n\nexports['default'] = keys;\nmodule.exports = exports['default'];\n},{\"./laroux.dom.js\":4,\"./laroux.forms.js\":6}],11:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\n// promiseObject - partially taken from 'promise-polyfill' project\n//                 can be found at: https://github.com/taylorhakes/promise-polyfill\n//                 see laroux.promiseObject.LICENSE file for details\n\nvar PromisePolyfill = (function () {\n    function PromisePolyfill(callback) {\n        _classCallCheck(this, PromisePolyfill);\n\n        this.state = null;\n        this.value = null;\n        this.deferreds = [];\n\n        this['catch'] = this._catch;\n\n        if (callback !== undefined) {\n            this.doResolve(callback, _larouxHelpersJs2['default'].bindContext(this.resolve, this), _larouxHelpersJs2['default'].bindContext(this.reject, this));\n        }\n    }\n\n    _createClass(PromisePolyfill, [{\n        key: 'doResolve',\n        value: function doResolve(callback, onFulfilled, onRejected) {\n            var done = false;\n\n            try {\n                callback(function (value) {\n                    if (done) {\n                        return;\n                    }\n\n                    done = true;\n                    onFulfilled(value);\n                }, function (reason) {\n                    if (done) {\n                        return;\n                    }\n\n                    done = true;\n                    onRejected(reason);\n                });\n            } catch (err) {\n                if (done) {\n                    return;\n                }\n\n                done = true;\n                onRejected(err);\n            }\n        }\n    }, {\n        key: 'resolve',\n        value: function resolve(newValue) {\n            try {\n                if (newValue && newValue.then !== undefined && newValue.then.constructor === Function) {\n                    this.doResolve(_larouxHelpersJs2['default'].bindContext(newValue.then, newValue), _larouxHelpersJs2['default'].bindContext(this.resolve, this), _larouxHelpersJs2['default'].bindContext(this.reject, this));\n                    return;\n                }\n\n                this.state = true;\n                this.value = newValue;\n\n                this.finale();\n            } catch (err) {\n                this.reject(err);\n            }\n        }\n    }, {\n        key: 'reject',\n        value: function reject(newValue) {\n            this.state = false;\n            this.value = newValue;\n\n            this.finale();\n        }\n    }, {\n        key: 'finale',\n        value: function finale() {\n            for (var i = 0, _length = this.deferreds.length; i < _length; i++) {\n                this.handle(this.deferreds[i]);\n            }\n\n            this.deferreds = null;\n        }\n    }, {\n        key: 'handle',\n        value: function handle(deferred) {\n            var self = this;\n\n            if (this.state === null) {\n                this.deferreds.push(deferred);\n                return;\n            }\n\n            _larouxHelpersJs2['default'].async(function () {\n                var callback = self.state ? deferred.onFulfilled : deferred.onRejected;\n\n                if (callback === null) {\n                    (self.state ? deferred.resolve : deferred.reject)(self.value);\n                    return;\n                }\n\n                var result = undefined;\n                try {\n                    result = callback(self.value);\n                } catch (err) {\n                    deferred.reject(err);\n                    return;\n                }\n\n                deferred.resolve(result);\n            });\n        }\n    }, {\n        key: 'then',\n        value: function then(onFulfilled, onRejected) {\n            var self = this;\n\n            return new PromisePolyfill(function (resolve, reject) {\n                self.handle({\n                    onFulfilled: onFulfilled || null,\n                    onRejected: onRejected || null,\n                    resolve: resolve,\n                    reject: reject\n                });\n            });\n        }\n    }, {\n        key: '_catch',\n        value: function _catch(onRejected) {\n            this.then(null, onRejected);\n        }\n    }], [{\n        key: 'all',\n        value: function all() {\n            for (var _len = arguments.length, deferreds = Array(_len), _key = 0; _key < _len; _key++) {\n                deferreds[_key] = arguments[_key];\n            }\n\n            if (deferreds.length === 1 && deferreds.constructor === Array) {\n                deferreds = deferreds[0];\n            }\n\n            return new PromisePolyfill(function (resolve, reject) {\n                var remaining = deferreds.length;\n\n                if (remaining === 0) {\n                    return [];\n                }\n\n                var res = function res(i, deferred) {\n                    try {\n                        if (deferred && deferred.then !== undefined && deferred.then.constructor === Function) {\n                            deferred.then.call(deferred, function (value) {\n                                res(i, value);\n                            }, reject);\n                            return;\n                        }\n\n                        deferreds[i] = deferred;\n                        if (--remaining === 0) {\n                            resolve(deferreds);\n                        }\n                    } catch (err) {\n                        reject(err);\n                    }\n                };\n\n                for (var i = 0, _length2 = deferreds.length; i < _length2; i++) {\n                    res(i, deferreds[i]);\n                }\n            });\n        }\n    }, {\n        key: 'resolve',\n        value: function resolve(value) {\n            if (value && value.constructor === PromisePolyfill) {\n                return value;\n            }\n\n            return new PromisePolyfill(function (resolve) {\n                resolve(value);\n            });\n        }\n    }, {\n        key: 'reject',\n        value: function reject(reason) {\n            return new PromisePolyfill(function (resolve, reject) {\n                reject(reason);\n            });\n        }\n    }, {\n        key: 'race',\n        value: function race(values) {\n            return new PromisePolyfill(function (resolve, reject) {\n                for (var i = 0, _length3 = values.length; i < _length3; i++) {\n                    values[i].then(resolve, reject);\n                }\n            });\n        }\n    }]);\n\n    return PromisePolyfill;\n})();\n\nvar promiseExist = ('Promise' in global);\n\nexports['default'] = promiseExist ? Promise : PromisePolyfill;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.helpers.js\":7}],12:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxAjaxJs = require('./laroux.ajax.js');\n\nvar _larouxAjaxJs2 = _interopRequireDefault(_larouxAjaxJs);\n\nvar _larouxPromiseObjectJs = require('./laroux.promiseObject.js');\n\nvar _larouxPromiseObjectJs2 = _interopRequireDefault(_larouxPromiseObjectJs);\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar require_ = function require_() {\n    var name = undefined,\n        requirements = undefined,\n        callback = undefined;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    if (args.length >= 3) {\n        name = args[0];\n        requirements = args[1];\n        callback = args[2];\n    } else if (args.length === 2) {\n        if (args[0].constructor === Array) {\n            name = null;\n            requirements = args[0];\n            callback = args[1];\n        } else {\n            name = args[0];\n            requirements = [];\n            callback = args[1];\n        }\n    } else {\n        name = null;\n        requirements = [];\n        callback = args[0];\n    }\n\n    var dependencies = [];\n    for (var i = 0, _length = requirements.length; i < _length; i++) {\n        var requirement = requirements[i];\n\n        if (!(requirement in require_.modules)) {\n            throw new Error('dependency not loaded: ' + requirement + '.');\n        }\n\n        dependencies.push(require_.modules[requirement]);\n    }\n\n    var result = undefined;\n    if (callback.constructor === _larouxPromiseObjectJs2['default']) {\n        dependencies.push(callback);\n\n        result = _larouxPromiseObjectJs2['default'].all(dependencies);\n    } else if (callback.constructor === String) {\n        if ('require' in global) {\n            result = _larouxPromiseObjectJs2['default'].all(dependencies).then(function (dependencies) {\n                return require(callback);\n            });\n        } else {\n            (function () {\n                var script = undefined;\n\n                var promise = _larouxAjaxJs2['default'].fetch(callback).then(function (response) {\n                    return response.text();\n                }).then(function (text) {\n                    script = text;\n                    return text;\n                });\n\n                dependencies.push(promise);\n\n                result = _larouxPromiseObjectJs2['default'].all(dependencies).then(function (dependencies) {\n                    return _larouxHelpersJs2['default'].executeScript.call(global, script);\n                });\n            })();\n        }\n    } else {\n        result = _larouxPromiseObjectJs2['default'].all(dependencies).then(function (dependencies) {\n            return callback.apply(global, dependencies);\n        });\n    }\n\n    if (name !== null) {\n        require_.modules[name] = result;\n    }\n\n    return result;\n};\n\nrequire_.modules = {};\n\nexports['default'] = require_;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.ajax.js\":1,\"./laroux.helpers.js\":7,\"./laroux.promiseObject.js\":11}],13:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n/*global location, addEventListener, removeEventListener */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxJs = require('./laroux.js');\n\nvar _larouxJs2 = _interopRequireDefault(_larouxJs);\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\n// routes - partially taken from 'routie' project\n//          can be found at: https://github.com/jgallen23/routie\n//          see laroux.routes.LICENSE file for details\nvar routes = {\n    map: {},\n    attached: false,\n    current: null,\n\n    regexConverter: function regexConverter(path, sensitive, strict) {\n        var keys = [],\n            regexString = path.concat(strict ? '' : '/?').replace(/\\/\\(/g, '(?:/').replace(/\\+/g, '__plus__').replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n            keys.push({ name: key, optional: !!optional });\n            slash = slash || '';\n\n            return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\n        }).replace(/([\\/.])/g, '\\\\$1').replace(/__plus__/g, '(.+)').replace(/\\*/g, '(.*)');\n\n        return {\n            regex: new RegExp('^' + regexString + '$', sensitive ? '' : 'i'),\n            keys: keys\n        };\n    },\n\n    add: function add(path, callback) {\n        routes.addNamed(null, path, callback);\n    },\n\n    addNamed: function addNamed(name, path, callback) {\n        if (!(path in routes.map)) {\n            var converted = routes.regexConverter(path);\n\n            routes.map[path] = {\n                name: name,\n                callback: callback,\n                params: {},\n                keys: converted.keys,\n                regex: converted.regex\n            };\n        } else {\n            routes.map[path].callback = callback;\n        }\n    },\n\n    get: function get(path) {\n        for (var item in routes.map) {\n            if (!routes.map.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var route = routes.map[item],\n                match = route.regex.exec(path);\n\n            if (!match) {\n                continue;\n            }\n\n            var params = {};\n            for (var i = 1, _length = match.length; i < _length; i++) {\n                var key = route.keys[i - 1];\n\n                if (key !== undefined) {\n                    params[key.name] = typeof match[i] === 'string' ? decodeURIComponent(match[i]) : match[i];\n                }\n            }\n\n            return {\n                route: item,\n                resolved: path,\n                params: params,\n                callback: route.callback\n            };\n        }\n\n        return null;\n    },\n\n    getNamed: function getNamed(name, params) {\n        for (var item in routes.map) {\n            if (!routes.map.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var route = routes.map[item],\n                path = item;\n\n            for (var i = 0, _length2 = route.keys.length; i < _length2; i++) {\n                var key = route.keys[i];\n\n                path = path.replace(':' + key.name, params[key.name] || '');\n            }\n\n            if (route.name == name) {\n                return {\n                    route: item,\n                    resolved: path,\n                    params: params,\n                    callback: route.callback\n                };\n            }\n        }\n\n        return null;\n    },\n\n    link: function link(name, params) {\n        var route = routes.getNamed(name, params);\n\n        if (route === null) {\n            return null;\n        }\n\n        return route.resolved;\n    },\n\n    exec: function exec(route) {\n        var previous = routes.current,\n            args = _larouxHelpersJs2['default'].map(route.params, function (value) {\n            return value;\n        });\n\n        routes.current = route;\n        args.push({\n            previous: previous,\n            current: routes.current\n        });\n\n        return route.callback.apply(global, args);\n    },\n\n    go: function go(path, silent) {\n        var attached = routes.attached;\n\n        if (silent && attached) {\n            routes.detach();\n        }\n\n        setTimeout(function () {\n            location.hash = path;\n\n            if (silent && attached) {\n                setTimeout(function () {\n                    routes.attach();\n                }, 1);\n            }\n        }, 1);\n    },\n\n    goNamed: function goNamed(name, params, silent) {\n        var path = routes.link(name, params);\n\n        if (path === null) {\n            return null;\n        }\n\n        routes.go(path, silent);\n    },\n\n    reload: function reload() {\n        var hash = location.hash.substring(1),\n            route = routes.get(hash);\n\n        if (route === null) {\n            return;\n        }\n\n        routes.exec(route);\n    },\n\n    attach: function attach() {\n        addEventListener('hashchange', routes.reload, false);\n        routes.attached = true;\n    },\n\n    detach: function detach() {\n        removeEventListener('hashchange', routes.reload);\n        routes.attached = false;\n    }\n};\n\n_larouxJs2['default'].ready(routes.attach);\n\nexports['default'] = routes;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.helpers.js\":7,\"./laroux.js\":9}],14:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _larouxPromiseObjectJs = require('./laroux.promiseObject.js');\n\nvar _larouxPromiseObjectJs2 = _interopRequireDefault(_larouxPromiseObjectJs);\n\nvar Storyboard = (function () {\n    function Storyboard() {\n        _classCallCheck(this, Storyboard);\n\n        var self = this;\n\n        this.phases = [];\n        this.phaseKeys = {};\n        this.currentIteration = 0;\n        this.running = false;\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        for (var i = 0, _length = args.length; i < _length; i++) {\n            this.addPhase(args[i]);\n        }\n\n        this.checkPromise = function () {\n            if (--self.phases[self.currentIteration].promises === 0 && !self.running) {\n                self.start();\n            }\n        };\n    }\n\n    _createClass(Storyboard, [{\n        key: 'addPhase',\n        value: function addPhase(key) {\n            this.phaseKeys[key] = this.phases.length;\n            this.phases.push({\n                key: key,\n                callbacks: [],\n                promises: 0\n            });\n        }\n    }, {\n        key: 'add',\n        value: function add(phase, callback) {\n            if (callback.constructor === _larouxPromiseObjectJs2['default']) {\n                return this.addPromise(phase, callback);\n            }\n\n            var phaseId = this.phaseKeys[phase];\n\n            if (phaseId < this.currentIteration) {\n                // execute immediately if phase is already passed\n                callback.apply(global);\n                return;\n            }\n\n            this.phases[phaseId].callbacks.push(callback);\n        }\n    }, {\n        key: 'addPromise',\n        value: function addPromise(phase, promise) {\n            var phaseId = this.phaseKeys[phase];\n\n            // skips if phase is already passed\n            if (phaseId < this.currentIteration) {\n                return;\n            }\n\n            this.phases[phaseId].promises++;\n            // FIXME: must be handled even if it has failed\n            promise.then(this.checkPromise);\n        }\n    }, {\n        key: 'start',\n        value: function start() {\n            this.running = true;\n\n            while (this.phases.length > this.currentIteration) {\n                var currentPhase = this.phases[this.currentIteration];\n\n                while (currentPhase.callbacks.length > 0) {\n                    var fnc = currentPhase.callbacks.shift();\n                    fnc.apply(global);\n                }\n\n                if (currentPhase.promises > 0) {\n                    break;\n                }\n\n                this.currentIteration++;\n            }\n\n            this.running = false;\n        }\n    }]);\n\n    return Storyboard;\n})();\n\nexports['default'] = Storyboard;\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.promiseObject.js\":11}],15:[function(require,module,exports){\n/*jslint node: true */\n/*global Hogan, Mustache, Handlebars, _ */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar templates = {\n    engines: {\n        plain: {\n            compile: function compile(template, options) {\n                return [template, options];\n            },\n\n            render: function render(compiled, model) {\n                var result = compiled[0],\n                    dict = [],\n                    lastIndex = 0,\n                    nextIndex = undefined;\n\n                while ((nextIndex = result.indexOf('{{', lastIndex)) !== -1) {\n                    nextIndex += 2;\n                    var closeIndex = result.indexOf('}}', nextIndex);\n                    if (closeIndex === -1) {\n                        break;\n                    }\n\n                    var key = result.substring(nextIndex, closeIndex);\n                    dict['{{' + key + '}}'] = _larouxHelpersJs2['default'].getElement(model, key, '');\n                    lastIndex = closeIndex + 2;\n                }\n\n                return _larouxHelpersJs2['default'].replaceAll(result, dict);\n            }\n        },\n\n        hogan: {\n            compile: function compile(template, options) {\n                return Hogan.compile(template, options);\n            },\n\n            render: function render(compiled, model) {\n                return compiled.render(model);\n            }\n        },\n\n        mustache: {\n            compile: function compile(template, options) {\n                return Mustache.compile(template, options);\n            },\n\n            render: function render(compiled, model) {\n                return compiled(model);\n            }\n        },\n\n        handlebars: {\n            compile: function compile(template, options) {\n                return Handlebars.compile(template, options);\n            },\n\n            render: function render(compiled, model) {\n                return compiled(model);\n            }\n        },\n\n        lodash: {\n            compile: function compile(template, options) {\n                /*jslint nomen: true */\n                return _.compile(template, null, options);\n            },\n\n            render: function render(compiled, model) {\n                return compiled(model);\n            }\n        },\n\n        underscore: {\n            compile: function compile(template, options) {\n                /*jslint nomen: true */\n                return _.compile(template, null, options);\n            },\n\n            render: function render(compiled, model) {\n                return compiled(model);\n            }\n        }\n    },\n    engine: 'plain',\n\n    apply: function apply(element, model, options) {\n        var content = undefined,\n            engine = templates.engines[templates.engine];\n\n        if (element.nodeType === 1 || element.nodeType === 3 || element.nodeType === 11) {\n            content = element.textContent;\n        } else {\n            content = element.nodeValue;\n        }\n\n        var compiled = engine.compile(content, options);\n        return engine.render(compiled, model);\n    }\n\n    /*\n    insert: function (element, model, target, position, options) {\n        let output = templates.apply(element, model, options);\n         dom.insert(target, position || 'beforeend', output);\n    },\n     replace: function (element, model, target, options) {\n        let output = templates.apply(element, model, options);\n         dom.replace(target, output);\n    }\n    */\n};\n\nexports['default'] = templates;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],16:[function(require,module,exports){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar timers = {\n    data: [],\n\n    set: function set(timer) {\n        timer.next = Date.now() + timer.timeout;\n        timers.data.push(timer);\n    },\n\n    remove: function remove(id) {\n        var targetKey = null;\n\n        for (var item in timers.data) {\n            if (!timers.data.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var currentItem = timers.data[item];\n\n            if (currentItem.id !== undefined && currentItem.id == id) {\n                targetKey = item;\n                break;\n            }\n        }\n\n        if (targetKey !== null) {\n            timers.data.splice(targetKey, 1);\n            return true;\n        }\n\n        return false;\n    },\n\n    ontick: function ontick() {\n        var now = Date.now(),\n            removeKeys = [];\n\n        for (var item in timers.data) {\n            if (!timers.data.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var currentItem = timers.data[item];\n\n            if (currentItem.next <= now) {\n                var result = currentItem.ontick(currentItem.state);\n\n                if (result !== false && currentItem.reset) {\n                    currentItem.next = now + currentItem.timeout;\n                } else {\n                    removeKeys = _larouxHelpersJs2['default'].prependArray(removeKeys, item);\n                }\n            }\n        }\n\n        for (var item2 in removeKeys) {\n            if (!removeKeys.hasOwnProperty(item2)) {\n                continue;\n            }\n\n            timers.data.splice(removeKeys[item2], 1);\n        }\n    }\n};\n\nexports['default'] = timers;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],17:[function(require,module,exports){\n/*jslint node: true */\n/*global document, navigator */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxJs = require('./laroux.js');\n\nvar _larouxJs2 = _interopRequireDefault(_larouxJs);\n\nvar _larouxDomJs = require('./laroux.dom.js');\n\nvar _larouxDomJs2 = _interopRequireDefault(_larouxDomJs);\n\n// touch - partially taken from 'tocca.js' project\n//         can be found at: https://github.com/GianlucaGuarini/Tocca.js\n//         see laroux.touch.LICENSE file for details\nvar touch = {\n    touchStarted: null,\n    swipeTreshold: 80,\n    precision: 30,\n    tapCount: 0,\n    tapTreshold: 200,\n    longTapTreshold: 800,\n    tapTimer: null,\n    pos: null,\n    cached: null,\n\n    events: {\n        start: ['touchstart', 'pointerdown', 'MSPointerDown', 'mousedown'],\n        end: ['touchend', 'pointerup', 'MSPointerUp', 'mouseup'],\n        move: ['touchmove', 'pointermove', 'MSPointerMove', 'mousemove']\n    },\n\n    locatePointer: function locatePointer(event) {\n        if (event.targetTouches) {\n            event = event.targetTouches[0];\n        }\n\n        touch.pos = [event.pageX, event.pageY];\n    },\n\n    init: function init() {\n        var events = [0, navigator.msPointerEnabled ? 2 : 1, 3];\n\n        for (var i = 0, _length = events.length; i < _length; i++) {\n            _larouxDomJs2['default'].setEventSingle(document, touch.events.start[events[i]], touch.onstart);\n            _larouxDomJs2['default'].setEventSingle(document, touch.events.end[events[i]], touch.onend);\n            _larouxDomJs2['default'].setEventSingle(document, touch.events.move[events[i]], touch.locatePointer);\n        }\n    },\n\n    onstart: function onstart(event) {\n        touch.locatePointer(event);\n        touch.cached = [touch.pos[0], touch.pos[1]];\n        touch.touchStarted = Date.now();\n        /*jslint plusplus: true */\n        touch.tapCount++;\n\n        var callback = function callback() {\n            if (touch.cached[0] >= touch.pos[0] - touch.precision && touch.cached[0] <= touch.pos[0] + touch.precision && touch.cached[1] >= touch.pos[1] - touch.precision && touch.cached[1] <= touch.pos[1] + touch.precision) {\n                if (touch.touchStarted === null) {\n                    _larouxDomJs2['default'].dispatchEvent(event.target, touch.tapCount === 2 ? 'dbltap' : 'tap', {\n                        innerEvent: event,\n                        x: touch.pos[0],\n                        y: touch.pos[1]\n                    });\n\n                    touch.tapCount = 0;\n                    return;\n                }\n\n                if (Date.now() - touch.touchStarted > touch.longTapTreshold) {\n                    _larouxDomJs2['default'].dispatchEvent(event.target, 'longtap', {\n                        innerEvent: event,\n                        x: touch.pos[0],\n                        y: touch.pos[1]\n                    });\n\n                    touch.touchStarted = null;\n                    touch.tapCount = 0;\n                    return;\n                }\n\n                touch.tapTimer = setTimeout(callback, touch.tapTreshold);\n                return;\n            }\n\n            touch.tapCount = 0;\n        };\n\n        clearTimeout(touch.tapTimer);\n        touch.tapTimer = setTimeout(callback, touch.tapTreshold);\n    },\n\n    onend: function onend(event) {\n        var delta = [touch.pos[0] - touch.cached[0], touch.pos[1] - touch.cached[1]],\n            data = {\n            innerEvent: event,\n            x: touch.pos[0],\n            y: touch.pos[1],\n            distance: {\n                x: Math.abs(delta[0]),\n                y: Math.abs(delta[1])\n            }\n        };\n\n        touch.touchStarted = null;\n\n        if (delta[0] <= -touch.swipeTreshold) {\n            _larouxDomJs2['default'].dispatchEvent(event.target, 'swiperight', data);\n        }\n\n        if (delta[0] >= touch.swipeTreshold) {\n            _larouxDomJs2['default'].dispatchEvent(event.target, 'swipeleft', data);\n        }\n\n        if (delta[1] <= -touch.swipeTreshold) {\n            _larouxDomJs2['default'].dispatchEvent(event.target, 'swipedown', data);\n        }\n\n        if (delta[1] >= touch.swipeTreshold) {\n            _larouxDomJs2['default'].dispatchEvent(event.target, 'swipeup', data);\n        }\n    }\n};\n\n_larouxJs2['default'].ready(touch.init);\n\nexports['default'] = touch;\nmodule.exports = exports['default'];\n},{\"./laroux.dom.js\":4,\"./laroux.js\":9}],18:[function(require,module,exports){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar staticKeys = ['_callbacks', '_onupdate'];\n\nvar Observable = (function () {\n    function Observable(data) {\n        _classCallCheck(this, Observable);\n\n        var self = this;\n\n        this._callbacks = [];\n        this._onupdate = function (changes) {\n            _larouxHelpersJs2['default'].callAll(self._callbacks, self, [changes]);\n        };\n\n        this.observe(this);\n\n        if (data) {\n            this.setRange(data);\n        }\n    }\n\n    _createClass(Observable, [{\n        key: 'set',\n        value: function set(key, value) {\n            if (staticKeys.indexOf(key) === -1) {\n                this[key] = value;\n            }\n        }\n    }, {\n        key: 'setRange',\n        value: function setRange(values) {\n            for (var valueKey in values) {\n                this.set(valueKey, values[valueKey]);\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(key, defaultValue) {\n            if (key in this && staticKeys.indexOf(key) === -1) {\n                return this[key];\n            }\n\n            return defaultValue || null;\n        }\n    }, {\n        key: 'getRange',\n        value: function getRange(keys) {\n            var values = {};\n\n            for (var item in keys) {\n                values[keys[item]] = this[keys[item]];\n            }\n\n            return values;\n        }\n    }, {\n        key: 'keys',\n        value: function keys() {\n            var keys = [];\n\n            for (var item in this) {\n                if (staticKeys.indexOf(item) === -1) {\n                    keys.push(item);\n                }\n            }\n\n            return keys;\n        }\n    }, {\n        key: 'length',\n        value: function length() {\n            return this.keys().length;\n        }\n    }, {\n        key: 'exists',\n        value: function exists(key) {\n            return key in this;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key) {\n            if (staticKeys.indexOf(key) === -1) {\n                delete this[key];\n            }\n        }\n    }, {\n        key: 'clear',\n        value: function clear() {\n            for (var item in this) {\n                if (!this.hasOwnProperty(item) || staticKeys.indexOf(item) !== -1) {\n                    continue;\n                }\n\n                delete this[item];\n            }\n        }\n    }, {\n        key: 'observe',\n        value: function observe(obj) {\n            if ('observe' in Object) {\n                Object.observe(obj, this._onupdate);\n            }\n        }\n    }, {\n        key: 'unobserve',\n        value: function unobserve(obj) {\n            if ('unobserve' in Object) {\n                Object.unobserve(obj);\n            }\n        }\n    }, {\n        key: 'on',\n        value: function on(callback) {\n            this._callbacks.push(callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(callback) {\n            _larouxHelpersJs2['default'].removeFromArray(this._callbacks, callback);\n        }\n    }]);\n\n    return Observable;\n})();\n\nvar types = {\n    observable: Observable\n};\n\nexports['default'] = types;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],19:[function(require,module,exports){\n/*jslint node: true */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar validation = {\n    // TODO: email, date, equalTo\n    rules: {\n        required: {\n            keys: ['message'],\n            callback: function callback(dictionary, name, rule) {\n                return name in dictionary;\n            }\n        },\n\n        minlength: {\n            keys: ['length', 'message'],\n            callback: function callback(dictionary, name, rule) {\n                return dictionary[name].length >= rule.length;\n            }\n        },\n\n        maxlength: {\n            keys: ['length', 'message'],\n            callback: function callback(dictionary, name, rule) {\n                return dictionary[name].length <= rule.length;\n            }\n        },\n\n        min: {\n            keys: ['value', 'message'],\n            callback: function callback(dictionary, name, rule) {\n                var floatValue = parseFloat(dictionary[name]);\n                return floatValue >= rule.value;\n            }\n        },\n\n        max: {\n            keys: ['value', 'message'],\n            callback: function callback(dictionary, name, rule) {\n                var floatValue = parseFloat(dictionary[name]);\n                return floatValue <= rule.value;\n            }\n        }\n    },\n\n    // {rule: 'required', message: 'isrequired'}\n    // 'required'\n\n    // {\n    //    'name': 'required',\n    //    'age': [\n    //        'required|The field is required.',\n    //        { rule: 'range', min: 10, max: 18 },\n    //    ]\n    // }\n\n    validate: function validate(fields, rules) {\n        var rulesKeys = Object.keys(rules),\n            result = {\n            success: true,\n            details: {}\n        };\n\n        for (var i = 0, _length = rulesKeys.length; i < _length; i++) {\n            var key = rulesKeys[i],\n                rule = rules[key];\n\n            var fieldRules = _larouxHelpersJs2['default'].getAsArray(rule);\n            for (var j = 0, length2 = fieldRules.length; j < length2; j++) {\n                var fieldRule = fieldRules[j];\n\n                if (fieldRule.constructor !== Object) {\n                    var fieldRuleSplitted = fieldRule.split('|'),\n                        fieldRuleName = fieldRuleSplitted[0];\n\n                    fieldRule = _larouxHelpersJs2['default'].assign(fieldRuleSplitted, ['name'].concat(validation.rules[fieldRuleName].keys));\n                }\n\n                if (!validation.rules[fieldRule.name].callback(fields, key, fieldRule)) {\n                    result.success = false;\n\n                    if (!(key in result.details)) {\n                        result.details[key] = [];\n                    }\n\n                    result.details[key].push(fieldRule);\n                }\n            }\n        }\n\n        return result;\n    }\n};\n\nexports['default'] = validation;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],20:[function(require,module,exports){\n/*jslint node: true */\n/*global document, localStorage, sessionStorage */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar vars = {\n    storages: {\n        cookie: {\n            defaultPath: '/',\n\n            get: function get(name, defaultValue) {\n                var re = new RegExp(encodeURIComponent(name) + '=[^;]+', 'i'),\n                    match = document.cookie.match(re);\n\n                if (!match) {\n                    return defaultValue || null;\n                }\n\n                return decodeURIComponent(match[0].split('=')[1]);\n            },\n\n            set: function set(name, value, expires, path) {\n                var expireValue = '';\n                if (expires) {\n                    expireValue = '; expires=' + expires.toGMTString();\n                }\n\n                document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value) + expireValue + '; path=' + (path || vars.storages.cookie.defaultPath);\n            },\n\n            remove: function remove(name, path) {\n                document.cookie = encodeURIComponent(name) + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=' + (path || vars.storages.cookie.defaultPath);\n            }\n        },\n\n        local: {\n            get: function get(name, defaultValue) {\n                if (!(name in localStorage)) {\n                    return defaultValue || null;\n                }\n\n                return JSON.parse(localStorage[name]);\n            },\n\n            set: function set(name, value) {\n                localStorage[name] = JSON.stringify(value);\n            },\n\n            remove: function remove(name) {\n                delete localStorage[name];\n            }\n        },\n\n        session: {\n            get: function get(name, defaultValue) {\n                if (!(name in sessionStorage)) {\n                    return defaultValue || null;\n                }\n\n                return JSON.parse(sessionStorage[name]);\n            },\n\n            set: function set(name, value) {\n                sessionStorage[name] = JSON.stringify(value);\n            },\n\n            remove: function remove(name) {\n                delete sessionStorage[name];\n            }\n        }\n    },\n\n    get: function get(storage) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        return vars.storages[storage].get.apply(this, args);\n    },\n\n    set: function set(storage) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n        }\n\n        return vars.storages[storage].set.apply(this, args);\n    },\n\n    remove: function remove(storage) {\n        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n            args[_key3 - 1] = arguments[_key3];\n        }\n\n        return vars.storages[storage].remove.apply(this, args);\n    }\n};\n\nexports['default'] = vars;\nmodule.exports = exports['default'];\n},{\"./laroux.helpers.js\":7}],21:[function(require,module,exports){\n(function (global){\n/*jslint node: true */\n/*global document */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _larouxJs = require('./laroux.js');\n\nvar _larouxJs2 = _interopRequireDefault(_larouxJs);\n\nvar _larouxAnimJs = require('./laroux.anim.js');\n\nvar _larouxAnimJs2 = _interopRequireDefault(_larouxAnimJs);\n\nvar _larouxCssJs = require('./laroux.css.js');\n\nvar _larouxCssJs2 = _interopRequireDefault(_larouxCssJs);\n\nvar _larouxDomJs = require('./laroux.dom.js');\n\nvar _larouxDomJs2 = _interopRequireDefault(_larouxDomJs);\n\nvar _larouxFormsJs = require('./laroux.forms.js');\n\nvar _larouxFormsJs2 = _interopRequireDefault(_larouxFormsJs);\n\nvar _larouxHelpersJs = require('./laroux.helpers.js');\n\nvar _larouxHelpersJs2 = _interopRequireDefault(_larouxHelpersJs);\n\nvar _larouxKeysJs = require('./laroux.keys.js');\n\nvar _larouxKeysJs2 = _interopRequireDefault(_larouxKeysJs);\n\nvar _larouxRoutesJs = require('./laroux.routes.js');\n\nvar _larouxRoutesJs2 = _interopRequireDefault(_larouxRoutesJs);\n\nvar _larouxTouchJs = require('./laroux.touch.js');\n\nvar _larouxTouchJs2 = _interopRequireDefault(_larouxTouchJs);\n\n_larouxJs2['default'].extend({\n    anim: _larouxAnimJs2['default'],\n    css: _larouxCssJs2['default'],\n    dom: _larouxDomJs2['default'],\n    forms: _larouxFormsJs2['default'],\n    keys: _larouxKeysJs2['default'],\n    routes: _larouxRoutesJs2['default'],\n    touch: _larouxTouchJs2['default'],\n\n    cached: {\n        single: {},\n        array: {},\n        id: {}\n    },\n\n    c: function c(selector) {\n        if (selector.constructor === Array) {\n            return _larouxJs2['default'].cached.array[selector] || (_larouxJs2['default'].cached.array[selector] = _larouxHelpersJs2['default'].toArray(document.querySelectorAll(selector)));\n        }\n\n        return _larouxJs2['default'].cached.single[selector] || (_larouxJs2['default'].cached.single[selector] = document.querySelector(selector));\n    },\n\n    id: function id(selector, parent) {\n        return (parent || document).getElementById(selector);\n    },\n\n    idc: function idc(selector) {\n        return _larouxJs2['default'].cached.id[selector] || (_larouxJs2['default'].cached.id[selector] = document.getElementById(selector));\n    }\n});\n\nif ('document' in global) {\n    document.addEventListener('DOMContentLoaded', _larouxJs2['default'].setReady);\n}\n\nexports['default'] = _larouxJs2['default'];\nmodule.exports = exports['default'];\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./laroux.anim.js\":2,\"./laroux.css.js\":3,\"./laroux.dom.js\":4,\"./laroux.forms.js\":6,\"./laroux.helpers.js\":7,\"./laroux.js\":9,\"./laroux.keys.js\":10,\"./laroux.routes.js\":13,\"./laroux.touch.js\":17}]},{},[21]);\n"],"sourceRoot":"/source/"}